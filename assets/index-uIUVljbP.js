(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var rd={exports:{}},il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function IA(){if(Yy)return il;Yy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return il.Fragment=t,il.jsx=i,il.jsxs=i,il}var Xy;function CA(){return Xy||(Xy=1,rd.exports=IA()),rd.exports}var Ft=CA(),sd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function DA(){if($y)return At;$y=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,nt={};function $(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||G}$.prototype.isReactComponent={},$.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=$.prototype;function _t(C,Y,et){this.props=C,this.context=Y,this.refs=nt,this.updater=et||G}var ct=_t.prototype=new Tt;ct.constructor=_t,J(ct,$.prototype),ct.isPureReactComponent=!0;var Vt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},It=Object.prototype.hasOwnProperty;function V(C,Y,et,Z,lt,Rt){return et=Rt.ref,{$$typeof:r,type:C,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(C,Y){return V(C.type,Y,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function I(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var N=/\/+/g;function P(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):Y.toString(36)}function w(){}function fe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function re(C,Y,et,Z,lt){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var yt=!1;if(C===null)yt=!0;else switch(Rt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(C.$$typeof){case r:case t:yt=!0;break;case A:return yt=C._init,re(yt(C._payload),Y,et,Z,lt)}}if(yt)return lt=lt(C),yt=Z===""?"."+P(C,0):Z,Vt(lt)?(et="",yt!=null&&(et=yt.replace(N,"$&/")+"/"),re(lt,Y,et,"",function(zn){return zn})):lt!=null&&(R(lt)&&(lt=S(lt,et+(lt.key==null||C&&C.key===lt.key?"":(""+lt.key).replace(N,"$&/")+"/")+yt)),Y.push(lt)),1;yt=0;var we=Z===""?".":Z+":";if(Vt(C))for(var Zt=0;Zt<C.length;Zt++)Z=C[Zt],Rt=we+P(Z,Zt),yt+=re(Z,Y,et,Rt,lt);else if(Zt=x(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(Z=C.next()).done;)Z=Z.value,Rt=we+P(Z,Zt++),yt+=re(Z,Y,et,Rt,lt);else if(Rt==="object"){if(typeof C.then=="function")return re(fe(C),Y,et,Z,lt);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return yt}function j(C,Y,et){if(C==null)return C;var Z=[],lt=0;return re(C,Z,"","",function(Rt){return Y.call(et,Rt,lt++)}),Z}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return At.Children={map:j,forEach:function(C,Y,et){j(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return j(C,function(){Y++}),Y},toArray:function(C){return j(C,function(Y){return Y})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=$,At.Fragment=i,At.Profiler=l,At.PureComponent=_t,At.StrictMode=a,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return gt.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=J({},C.props),lt=C.key,Rt=void 0;if(Y!=null)for(yt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(lt=""+Y.key),Y)!It.call(Y,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&Y.ref===void 0||(Z[yt]=Y[yt]);var yt=arguments.length-2;if(yt===1)Z.children=et;else if(1<yt){for(var we=Array(yt),Zt=0;Zt<yt;Zt++)we[Zt]=arguments[Zt+2];Z.children=we}return V(C.type,lt,void 0,void 0,Rt,Z)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},At.createElement=function(C,Y,et){var Z,lt={},Rt=null;if(Y!=null)for(Z in Y.key!==void 0&&(Rt=""+Y.key),Y)It.call(Y,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(lt[Z]=Y[Z]);var yt=arguments.length-2;if(yt===1)lt.children=et;else if(1<yt){for(var we=Array(yt),Zt=0;Zt<yt;Zt++)we[Zt]=arguments[Zt+2];lt.children=we}if(C&&C.defaultProps)for(Z in yt=C.defaultProps,yt)lt[Z]===void 0&&(lt[Z]=yt[Z]);return V(C,Rt,void 0,void 0,null,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=R,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},At.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},At.startTransition=function(C){var Y=gt.T,et={};gt.T=et;try{var Z=C(),lt=gt.S;lt!==null&&lt(et,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Lt,ot)}catch(Rt){ot(Rt)}finally{gt.T=Y}},At.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},At.use=function(C){return gt.H.use(C)},At.useActionState=function(C,Y,et){return gt.H.useActionState(C,Y,et)},At.useCallback=function(C,Y){return gt.H.useCallback(C,Y)},At.useContext=function(C){return gt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,Y){return gt.H.useDeferredValue(C,Y)},At.useEffect=function(C,Y,et){var Z=gt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(C,Y)},At.useId=function(){return gt.H.useId()},At.useImperativeHandle=function(C,Y,et){return gt.H.useImperativeHandle(C,Y,et)},At.useInsertionEffect=function(C,Y){return gt.H.useInsertionEffect(C,Y)},At.useLayoutEffect=function(C,Y){return gt.H.useLayoutEffect(C,Y)},At.useMemo=function(C,Y){return gt.H.useMemo(C,Y)},At.useOptimistic=function(C,Y){return gt.H.useOptimistic(C,Y)},At.useReducer=function(C,Y,et){return gt.H.useReducer(C,Y,et)},At.useRef=function(C){return gt.H.useRef(C)},At.useState=function(C){return gt.H.useState(C)},At.useSyncExternalStore=function(C,Y,et){return gt.H.useSyncExternalStore(C,Y,et)},At.useTransition=function(){return gt.H.useTransition()},At.version="19.1.0",At}var Zy;function Kd(){return Zy||(Zy=1,sd.exports=DA()),sd.exports}var Pn=Kd(),ad={exports:{}},rl={},od={exports:{}},ld={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function OA(){return Jy||(Jy=1,function(r){function t(j,tt){var ot=j.length;j.push(tt);t:for(;0<ot;){var Lt=ot-1>>>1,C=j[Lt];if(0<l(C,tt))j[Lt]=tt,j[ot]=C,ot=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ot=j.pop();if(ot!==tt){j[0]=ot;t:for(var Lt=0,C=j.length,Y=C>>>1;Lt<Y;){var et=2*(Lt+1)-1,Z=j[et],lt=et+1,Rt=j[lt];if(0>l(Z,ot))lt<C&&0>l(Rt,Z)?(j[Lt]=Rt,j[lt]=ot,Lt=lt):(j[Lt]=Z,j[et]=ot,Lt=et);else if(lt<C&&0>l(Rt,ot))j[Lt]=Rt,j[lt]=ot,Lt=lt;else break t}}return tt}function l(j,tt){var ot=j.sortIndex-tt.sortIndex;return ot!==0?ot:j.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],v=[],A=1,D=null,x=3,G=!1,J=!1,nt=!1,$=!1,Tt=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Vt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=j)a(v),tt.sortIndex=tt.expirationTime,t(p,tt);else break;tt=i(v)}}function gt(j){if(nt=!1,Vt(j),!J)if(i(p)!==null)J=!0,It||(It=!0,P());else{var tt=i(v);tt!==null&&re(gt,tt.startTime-j)}}var It=!1,V=-1,S=5,R=-1;function I(){return $?!0:!(r.unstable_now()-R<S)}function N(){if($=!1,It){var j=r.unstable_now();R=j;var tt=!0;try{t:{J=!1,nt&&(nt=!1,_t(V),V=-1),G=!0;var ot=x;try{e:{for(Vt(j),D=i(p);D!==null&&!(D.expirationTime>j&&I());){var Lt=D.callback;if(typeof Lt=="function"){D.callback=null,x=D.priorityLevel;var C=Lt(D.expirationTime<=j);if(j=r.unstable_now(),typeof C=="function"){D.callback=C,Vt(j),tt=!0;break e}D===i(p)&&a(p),Vt(j)}else a(p);D=i(p)}if(D!==null)tt=!0;else{var Y=i(v);Y!==null&&re(gt,Y.startTime-j),tt=!1}}break t}finally{D=null,x=ot,G=!1}tt=void 0}}finally{tt?P():It=!1}}}var P;if(typeof ct=="function")P=function(){ct(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,fe=w.port2;w.port1.onmessage=N,P=function(){fe.postMessage(null)}}else P=function(){Tt(N,0)};function re(j,tt){V=Tt(function(){j(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(j){switch(x){case 1:case 2:case 3:var tt=3;break;default:tt=x}var ot=x;x=tt;try{return j()}finally{x=ot}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=x;x=j;try{return tt()}finally{x=ot}},r.unstable_scheduleCallback=function(j,tt,ot){var Lt=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Lt+ot:Lt):ot=Lt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,j={id:A++,callback:tt,priorityLevel:j,startTime:ot,expirationTime:C,sortIndex:-1},ot>Lt?(j.sortIndex=ot,t(v,j),i(p)===null&&j===i(v)&&(nt?(_t(V),V=-1):nt=!0,re(gt,ot-Lt))):(j.sortIndex=C,t(p,j),J||G||(J=!0,It||(It=!0,P()))),j},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(j){var tt=x;return function(){var ot=x;x=tt;try{return j.apply(this,arguments)}finally{x=ot}}}}(ld)),ld}var Wy;function NA(){return Wy||(Wy=1,od.exports=OA()),od.exports}var ud={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function VA(){if(t_)return He;t_=1;var r=Kd();function t(p){var v="https://react.dev/errors/"+p;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:p,containerInfo:v,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,v){if(p==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(p,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(p,v,null,A)},He.flushSync=function(p){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(p,v){typeof p=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(p,v))},He.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},He.preinit=function(p,v){if(typeof p=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(p,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:x,fetchPriority:G}):A==="script"&&a.d.X(p,{crossOrigin:D,integrity:x,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(p,v){if(typeof p=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(p,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(p)},He.preload=function(p,v){if(typeof p=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);a.d.L(p,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(p,v){if(typeof p=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(p,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(p)},He.requestFormReset=function(p){a.d.r(p)},He.unstable_batchedUpdates=function(p,v){return p(v)},He.useFormState=function(p,v,A){return d.H.useFormState(p,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.0",He}var e_;function MA(){if(e_)return ud.exports;e_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ud.exports=VA(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function PA(){if(n_)return rl;n_=1;var r=NA(),t=Kd(),i=MA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var _=!1,E=h.child;E;){if(E===s){_=!0,s=h,o=f;break}if(E===o){_=!0,o=h,s=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===s){_=!0,s=f,o=h;break}if(E===o){_=!0,o=f,s=h;break}E=E.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),_t=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case $:return"Profiler";case nt:return"StrictMode";case gt:return"Suspense";case It:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case _t:return(e._context.displayName||"Context")+".Consumer";case Vt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}var re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function Z(e,n){C++,Lt[C]=e.current,e.current=n}var lt=Y(null),Rt=Y(null),yt=Y(null),we=Y(null);function Zt(e,n){switch(Z(yt,n),Z(Rt,e),Z(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ay(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ay(n),e=Sy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(lt),Z(lt,e)}function zn(){et(lt),et(Rt),et(yt)}function Fi(e){e.memoizedState!==null&&Z(we,e);var n=lt.current,s=Sy(n,e.type);n!==s&&(Z(Rt,e),Z(lt,s))}function ci(e){Rt.current===e&&(et(lt),et(Rt)),we.current===e&&(et(we),Jo._currentValue=ot)}var xr=Object.prototype.hasOwnProperty,Lr=r.unstable_scheduleCallback,zr=r.unstable_cancelCallback,Ya=r.unstable_shouldYield,Vl=r.unstable_requestPaint,mn=r.unstable_now,ih=r.unstable_getCurrentPriorityLevel,Xa=r.unstable_ImmediatePriority,Ms=r.unstable_UserBlockingPriority,Br=r.unstable_NormalPriority,rh=r.unstable_LowPriority,Ps=r.unstable_IdlePriority,$a=r.log,Ml=r.unstable_setDisableYieldValue,se=null,jt=null;function nn(e){if(typeof $a=="function"&&Ml(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(se,e)}catch{}}var qe=Math.clz32?Math.clz32:qr,Pl=Math.log,sh=Math.LN2;function qr(e){return e>>>=0,e===0?32:31-(Pl(e)/sh|0)|0}var jr=256,Hr=4194304;function Cn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Us(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Cn(o):(_&=E,_!==0?h=Cn(_):s||(s=E&~e,s!==0&&(h=Cn(s))))):(E=o&~f,E!==0?h=Cn(E):_!==0?h=Cn(_):s||(s=o&~e,s!==0&&(h=Cn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Za(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ja(){var e=jr;return jr<<=1,(jr&4194048)===0&&(jr=256),e}function Wa(){var e=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function to(e,n,s,o,h,f){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(s=_&~s;0<s;){var H=31-qe(s),Q=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}s&=~Q}o!==0&&Bn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Bn(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194090}function eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-qe(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Qi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ki(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:jy(e.type))}function Ul(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,de="__reactProps$"+Wt,gn="__reactContainer$"+Wt,no="__reactEvents$"+Wt,ah="__reactListeners$"+Wt,Yi="__reactHandles$"+Wt,kl="__reactResources$"+Wt,Fr="__reactMarker$"+Wt;function Xi(e){delete e[_e],delete e[de],delete e[no],delete e[ah],delete e[Yi]}function di(e){var n=e[_e];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gn]||s[_e]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Iy(e);e!==null;){if(s=e[_e])return s;e=Iy(e)}return n}e=s,s=e.parentNode}return null}function qn(e){if(e=e[_e]||e[gn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ye(e){var n=e[kl];return n||(n=e[kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(e){e[Fr]=!0}var io=new Set,xs={};function Dn(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(xs[e]=n,e=0;e<n.length;e++)io.add(n[e])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Qr={};function zl(e){return xr.call(Qr,e)?!0:xr.call(Ll,e)?!1:xl.test(e)?Qr[e]=!0:(Ll[e]=!0,!1)}function $i(e,n,s){if(zl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Hn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}var Kr,Bl;function gi(e){if(Kr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Kr=n&&n[1]||"",Bl=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kr+e+Bl}var Ls=!1;function zs(e,n){if(!e||Ls)return"";Ls=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var b=_.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Ls=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?gi(s):""}function ro(e){switch(e.tag){case 26:case 27:case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return zs(e.type,!1);case 11:return zs(e.type.render,!1);case 1:return zs(e.type,!0);case 31:return gi("Activity");default:return""}}function Bs(e){try{var n="";do n+=ro(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function so(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function oh(e){var n=so(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function qs(e){e._valueTracker||(e._valueTracker=oh(e))}function ao(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=so(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lh=/[\n"\\]/g;function me(e){return e.replace(lh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(e,n,s,o,h,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Zi(e,_,Xe(n)):s!=null?Zi(e,_,Xe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Xr(e,n,s,o,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Xe(s):"",n=n!=null?""+Xe(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Zi(e,n,s){n==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function pi(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Xe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qt(e,n,s){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Xe(s):""}function $r(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(re(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Xe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function pn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ql(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Zr.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function oo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&ql(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ql(e,f,n[f])}function lo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function js(e){return ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yi=null;function yn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,vi=null;function uo(e){var n=qn(e);if(n&&(e=n.stateNode)){var s=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(rn(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(a(90));rn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&ao(o)}break t;case"textarea":Qt(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&pi(e,!!s.multiple,n,!1)}}}var Gn=!1;function jl(e,n,s){if(Gn)return e(n,s);Gn=!0;try{var o=e(n);return o}finally{if(Gn=!1,(_i!==null||vi!==null)&&(Uu(),_i&&(n=_i,e=vi,vi=_i=null,uo(n),e)))for(n=0;n<e.length;n++)uo(e[n])}}function Jr(e,n){var s=e.stateNode;if(s===null)return null;var o=s[de]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(On)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{_n=!1}var Fn=null,Ji=null,Ei=null;function co(){if(Ei)return Ei;var e,n=Ji,s=n.length,o,h="value"in Fn?Fn.value:Fn.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===h[f-o];o++);return Ei=h.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function ho(){return!1}function Ie(e){function n(s,o,h,f,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:ho,this.isPropagationStopped=ho,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=Ie(Bt),ts=A({},Bt,{view:0,detail:0}),Hl=Ie(ts),Gs,Fs,Yn,es=A({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Gs=e.screenX-Yn.screenX,Fs=e.screenY-Yn.screenY):Fs=Gs=0,Yn=e),Gs)},movementY:function(e){return"movementY"in e?e.movementY:Fs}}),vn=Ie(es),Gl=A({},es,{dataTransfer:0}),hh=Ie(Gl),ns=A({},ts,{relatedTarget:0}),Qs=Ie(ns),fo=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Ie(fo),Fl=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ys=Ie(Fl),fh=A({},Bt,{data:0}),mo=Ie(fh),is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function go(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kl[e])?!!n[e]:!1}function rs(){return go}var Yl=A({},ts,{key:function(e){if(e.key){var n=is[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ql[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xs=Ie(Yl),Xl=A({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),po=Ie(Xl),Ti=A({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),$l=Ie(Ti),Zl=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jl=Ie(Zl),Wl=A({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$s=Ie(Wl),$e=A({},Bt,{newState:0,oldState:0}),tu=Ie($e),eu=[9,13,27,32],Xn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,y=On&&(!Xn||u&&8<u&&11>=u),T=" ",U=!1;function q(e,n){switch(e){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function ve(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Pt(e,n){if(Mt)return e==="compositionend"||!Xn&&q(e,n)?(e=co(),Ei=Ji=Fn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return y&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ce[e.type]:n==="textarea"}function Ai(e,n,s,o){_i?vi?vi.push(o):vi=[o]:_i=o,n=qu(n,"onChange"),0<n.length&&(s=new Hs("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Pe=null,$n=null;function yo(e){yy(e,0)}function nu(e){var n=jn(e);if(ao(n))return e}function Lm(e,n){if(e==="change")return n}var zm=!1;if(On){var dh;if(On){var mh="oninput"in document;if(!mh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),mh=typeof Bm.oninput=="function"}dh=mh}else dh=!1;zm=dh&&(!document.documentMode||9<document.documentMode)}function qm(){Pe&&(Pe.detachEvent("onpropertychange",jm),$n=Pe=null)}function jm(e){if(e.propertyName==="value"&&nu($n)){var n=[];Ai(n,$n,e,yn(e)),jl(yo,n)}}function i0(e,n,s){e==="focusin"?(qm(),Pe=n,$n=s,Pe.attachEvent("onpropertychange",jm)):e==="focusout"&&qm()}function r0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu($n)}function s0(e,n){if(e==="click")return nu(n)}function a0(e,n){if(e==="input"||e==="change")return nu(n)}function o0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:o0;function _o(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!xr.call(n,h)||!sn(e[h],n[h]))return!1}return!0}function Hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gm(e,n){var s=Hm(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Hm(s)}}function Fm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Fm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Yr(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Yr(e.document)}return n}function gh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var l0=On&&"documentMode"in document&&11>=document.documentMode,Zs=null,ph=null,vo=null,yh=!1;function Km(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yh||Zs==null||Zs!==Yr(o)||(o=Zs,"selectionStart"in o&&gh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),vo&&_o(vo,o)||(vo=o,o=qu(ph,"onSelect"),0<o.length&&(n=new Hs("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=Zs)))}function ss(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Js={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},_h={},Ym={};On&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function as(e){if(_h[e])return _h[e];if(!Js[e])return e;var n=Js[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ym)return _h[e]=n[s];return e}var Xm=as("animationend"),$m=as("animationiteration"),Zm=as("animationstart"),u0=as("transitionrun"),c0=as("transitionstart"),h0=as("transitioncancel"),Jm=as("transitionend"),Wm=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function Nn(e,n){Wm.set(e,n),Dn(n,[e])}var tg=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var s=tg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Bs(n)},tg.set(e,n),n)}return{value:e,source:n,stack:Bs(n)}}var Tn=[],Ws=0,Eh=0;function iu(){for(var e=Ws,n=Eh=Ws=0;n<e;){var s=Tn[n];Tn[n++]=null;var o=Tn[n];Tn[n++]=null;var h=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&eg(s,h,f)}}function ru(e,n,s,o){Tn[Ws++]=e,Tn[Ws++]=n,Tn[Ws++]=s,Tn[Ws++]=o,Eh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Th(e,n,s,o){return ru(e,n,s,o),su(e)}function ta(e,n){return ru(e,null,null,n),su(e)}function eg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-qe(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function su(e){if(50<Go)throw Go=0,Cf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ea={};function f0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,n,s,o){return new f0(e,n,s,o)}function Ah(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Si(e,n){var s=e.alternate;return s===null?(s=an(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function ng(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function au(e,n,s,o,h,f){var _=0;if(o=e,typeof e=="function")Ah(e)&&(_=1);else if(typeof e=="string")_=mA(e,s,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=an(31,s,n,h),e.elementType=R,e.lanes=f,e;case J:return os(s.children,h,f,n);case nt:_=8,h|=24;break;case $:return e=an(12,s,n,h|2),e.elementType=$,e.lanes=f,e;case gt:return e=an(13,s,n,h),e.elementType=gt,e.lanes=f,e;case It:return e=an(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ct:_=10;break t;case _t:_=9;break t;case Vt:_=11;break t;case V:_=14;break t;case S:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=an(_,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function os(e,n,s,o){return e=an(7,e,o,n),e.lanes=s,e}function Sh(e,n,s){return e=an(6,e,null,n),e.lanes=s,e}function bh(e,n,s){return n=an(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var na=[],ia=0,ou=null,lu=0,An=[],Sn=0,ls=null,bi=1,Ri="";function us(e,n){na[ia++]=lu,na[ia++]=ou,ou=e,lu=n}function ig(e,n,s){An[Sn++]=bi,An[Sn++]=Ri,An[Sn++]=ls,ls=e;var o=bi;e=Ri;var h=32-qe(o)-1;o&=~(1<<h),s+=1;var f=32-qe(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,bi=1<<32-qe(n)+h|s<<h|o,Ri=f+e}else bi=1<<f|s<<h|o,Ri=e}function Rh(e){e.return!==null&&(us(e,1),ig(e,1,0))}function wh(e){for(;e===ou;)ou=na[--ia],na[ia]=null,lu=na[--ia],na[ia]=null;for(;e===ls;)ls=An[--Sn],An[Sn]=null,Ri=An[--Sn],An[Sn]=null,bi=An[--Sn],An[Sn]=null}var Ze=null,ae=null,zt=!1,cs=null,Zn=!1,Ih=Error(a(519));function hs(e){var n=Error(a(418,""));throw Ao(En(n,e)),Ih}function rg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[_e]=e,n[de]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Qo.length;s++)Dt(Qo[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Xr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),qs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),$r(n,o.value,o.defaultValue,o.children),qs(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Ty(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||hs(e)}function sg(e){for(Ze=e.return;Ze;)switch(Ze.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:Ze=Ze.return}}function Eo(e){if(e!==Ze)return!1;if(!zt)return sg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Gf(e.type,e.memoizedProps)),s=!s),s&&ae&&hs(e),sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){ae=Mn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,mr(e.type)?(e=Yf,Yf=null,ae=e):ae=n):ae=Ze?Mn(e.stateNode.nextSibling):null;return!0}function To(){ae=Ze=null,zt=!1}function ag(){var e=cs;return e!==null&&(tn===null?tn=e:tn.push.apply(tn,e),cs=null),e}function Ao(e){cs===null?cs=[e]:cs.push(e)}var Ch=Y(null),fs=null,wi=null;function Wi(e,n,s){Z(Ch,n._currentValue),n._currentValue=s}function Ii(e){e._currentValue=Ch.current,et(Ch)}function Dh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Oh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Dh(f.return,s,e),o||(_=null);break t}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),Dh(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function So(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=h.type;sn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===we.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Jo):e=[Jo])}h=h.return}e!==null&&Oh(n,e,s,o),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){fs=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function je(e){return og(fs,e)}function cu(e,n){return fs===null&&ds(e),og(e,n)}function og(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},wi===null){if(e===null)throw Error(a(308));wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wi=wi.next=n;return s}var d0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},m0=r.unstable_scheduleCallback,g0=r.unstable_NormalPriority,Te={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new d0,data:new Map,refCount:0}}function bo(e){e.refCount--,e.refCount===0&&m0(g0,function(){e.controller.abort()})}var Ro=null,Vh=0,ra=0,sa=null;function p0(e,n){if(Ro===null){var s=Ro=[];Vh=0,ra=Uf(),sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Vh++,n.then(lg,lg),n}function lg(){if(--Vh===0&&Ro!==null){sa!==null&&(sa.status="fulfilled");var e=Ro;Ro=null,ra=0,sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y0(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var ug=j.S;j.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&p0(e,n),ug!==null&&ug(e,n)};var ms=Y(null);function Mh(){var e=ms.current;return e!==null?e:Jt.pooledCache}function hu(e,n){n===null?Z(ms,ms.current):Z(ms,n.pool)}function cg(){var e=Mh();return e===null?null:{parent:Te._currentValue,pool:e}}var wo=Error(a(460)),hg=Error(a(474)),fu=Error(a(542)),Ph={then:function(){}};function fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function du(){}function dg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(du,du),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e;default:if(typeof n.status=="string")n.then(du,du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gg(e),e}throw Io=n,wo}}var Io=null;function mg(){if(Io===null)throw Error(a(459));var e=Io;return Io=null,e}function gg(e){if(e===wo||e===fu)throw Error(a(483))}var tr=!1;function Uh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=su(e),eg(e,null,s),n}return ru(e,o,n,s),su(e)}function Co(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,eo(e,s)}}function xh(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Lh=!1;function Do(){if(Lh){var e=sa;if(e!==null)throw e}}function Oo(e,n,s,o){Lh=!1;var h=e.updateQueue;tr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,_===null?f=L:_.next=L,_=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(f!==null){var Q=h.baseState;_=0,H=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===ra&&(Lh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=e,ht=E;z=n;var Xt=s;switch(ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){Q=mt.call(Xt,Q,z);break t}Q=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,z=typeof mt=="function"?mt.call(Xt,Q,z):mt,z==null)break t;Q=A({},Q,z);break t;case 2:tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=Q):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=Q),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),cr|=_,e.lanes=_,e.memoizedState=Q}}function pg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function yg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)pg(s[e],n)}var aa=Y(null),mu=Y(0);function _g(e,n){e=Pi,Z(mu,e),Z(aa,n),Pi=e|n.baseLanes}function zh(){Z(mu,Pi),Z(aa,aa.current)}function Bh(){Pi=mu.current,et(aa),et(mu)}var ir=0,St=null,Kt=null,ge=null,gu=!1,oa=!1,gs=!1,pu=0,No=0,la=null,_0=0;function ue(){throw Error(a(321))}function qh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!sn(e[s],n[s]))return!1;return!0}function jh(e,n,s,o,h,f){return ir=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?ep:np,gs=!1,f=s(o,h),gs=!1,oa&&(f=Eg(n,s,o,h)),vg(e),f}function vg(e){j.H=Au;var n=Kt!==null&&Kt.next!==null;if(ir=0,ge=Kt=St=null,gu=!1,No=0,la=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&uu(e)&&(De=!0))}function Eg(e,n,s,o){St=e;var h=0;do{if(oa&&(la=null),No=0,oa=!1,25<=h)throw Error(a(301));if(h+=1,ge=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=R0,f=n(s,o)}while(oa);return f}function v0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Vo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(St.flags|=1024),n}function Hh(){var e=pu!==0;return pu=0,e}function Gh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Fh(e){if(gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}gu=!1}ir=0,ge=Kt=St=null,oa=!1,No=pu=0,la=null}function Je(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?St.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ge===null?St.memoizedState:ge.next;if(n!==null)ge=n,Kt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?St.memoizedState=ge=e:ge=ge.next=e}return ge}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(e){var n=No;return No+=1,la===null&&(la=[]),e=dg(la,e,n),n=St,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ep:np),e}function yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Vo(e);if(e.$$typeof===ct)return je(e)}throw Error(a(438,String(e)))}function Kh(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Qh(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=I;return n.index++,s}function Ci(e,n){return typeof n=="function"?n(e):n}function _u(e){var n=pe();return Yh(n,Kt,e)}function Yh(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=_=null,b=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ut&Q)===Q:(ir&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ra&&(H=!0);else if((ir&z)===z){L=L.next,z===ra&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,_=f):b=b.next=Q,St.lanes|=z,cr|=z;Q=L.action,gs&&s(f,Q),f=L.hasEagerState?L.eagerState:s(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,_=f):b=b.next=z,St.lanes|=Q,cr|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?_=f:b.next=E,!sn(f,e.memoizedState)&&(De=!0,H&&(s=sa,s!==null)))throw s;e.memoizedState=f,e.baseState=_,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Xh(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=e(f,_.action),_=_.next;while(_!==h);sn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Tg(e,n,s){var o=St,h=pe(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!sn((Kt||h).memoizedState,s);_&&(h.memoizedState=s,De=!0),h=h.queue;var E=bg.bind(null,o,h,e);if(Mo(2048,8,E,[e]),h.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ua(9,vu(),Sg.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(ir&124)!==0||Ag(o,n,s)}return s}function Ag(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Qh(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Sg(e,n,s,o){n.value=s,n.getSnapshot=o,Rg(n)&&wg(e)}function bg(e,n,s){return s(function(){Rg(n)&&wg(e)})}function Rg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!sn(e,s)}catch{return!0}}function wg(e){var n=ta(e,2);n!==null&&hn(n,e,2)}function $h(e){var n=Je();if(typeof e=="function"){var s=e;if(e=s(),gs){nn(!0);try{s()}finally{nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n}function Ig(e,n,s,o){return e.baseState=s,Yh(e,Kt,typeof o=="function"?o:Ci)}function E0(e,n,s,o,h){if(Tu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Cg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,_={};j.T=_;try{var E=s(h,o),b=j.S;b!==null&&b(_,E),Dg(e,n,E)}catch(L){Zh(e,n,L)}finally{j.T=f}}else try{f=s(h,o),Dg(e,n,f)}catch(L){Zh(e,n,L)}}function Dg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Og(e,n,o)},function(o){return Zh(e,n,o)}):Og(e,n,s)}function Og(e,n,s){n.status="fulfilled",n.value=s,Ng(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Cg(e,s)))}function Zh(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ng(n),n=n.next;while(n!==o)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vg(e,n){return n}function Mg(e,n){if(zt){var s=Jt.formState;if(s!==null){t:{var o=St;if(zt){if(ae){e:{for(var h=ae,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Mn(h.nextSibling),o=h.data==="F!";break t}}hs(o)}o=!1}o&&(n=s[0])}}return s=Je(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},s.queue=o,s=Jg.bind(null,St,o),o.dispatch=s,o=$h(!1),f=nf.bind(null,St,!1,o.queue),o=Je(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=E0.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Pg(e){var n=pe();return Ug(n,Kt,e)}function Ug(e,n,s){if(n=Yh(e,n,Vg)[0],e=_u(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Vo(n)}catch(_){throw _===wo?fu:_}else o=n;n=pe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,ua(9,vu(),T0.bind(null,h,s),null)),[o,f,e]}function T0(e,n){e.action=n}function kg(e){var n=pe(),s=Kt;if(s!==null)return Ug(n,s,e);pe(),n=n.memoizedState,s=pe();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ua(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Qh(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function vu(){return{destroy:void 0,resource:void 0}}function xg(){return pe().memoizedState}function Eu(e,n,s,o){var h=Je();o=o===void 0?null:o,St.flags|=e,h.memoizedState=ua(1|n,vu(),s,o)}function Mo(e,n,s,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&qh(o,Kt.memoizedState.deps)?h.memoizedState=ua(n,f,s,o):(St.flags|=e,h.memoizedState=ua(1|n,f,s,o))}function Lg(e,n){Eu(8390656,8,e,n)}function zg(e,n){Mo(2048,8,e,n)}function Bg(e,n){return Mo(4,2,e,n)}function qg(e,n){return Mo(4,4,e,n)}function jg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hg(e,n,s){s=s!=null?s.concat([e]):null,Mo(4,4,jg.bind(null,n,e),s)}function Jh(){}function Gg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&qh(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Fg(e,n){var s=pe();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&qh(n,o[1]))return o[0];if(o=e(),gs){nn(!0);try{e()}finally{nn(!1)}}return s.memoizedState=[o,n],o}function Wh(e,n,s){return s===void 0||(ir&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Yp(),St.lanes|=e,cr|=e,s)}function Qg(e,n,s,o){return sn(s,n)?s:aa.current!==null?(e=Wh(e,s,o),sn(e,n)||(De=!0),e):(ir&42)===0?(De=!0,e.memoizedState=s):(e=Yp(),St.lanes|=e,cr|=e,n)}function Kg(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=j.T,E={};j.T=E,nf(e,!1,n,s);try{var b=h(),L=j.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=y0(b,o);Po(e,n,H,cn(e))}else Po(e,n,o,cn(e))}catch(Q){Po(e,n,{then:function(){},status:"rejected",reason:Q},cn())}finally{tt.p=f,j.T=_}}function A0(){}function tf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Yg(e).queue;Kg(e,h,n,ot,s===null?A0:function(){return Xg(e),s(o)})}function Yg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xg(e){var n=Yg(e).next.queue;Po(e,n,{},cn())}function ef(){return je(Jo)}function $g(){return pe().memoizedState}function Zg(){return pe().memoizedState}function S0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=cn();e=er(s);var o=nr(n,e,s);o!==null&&(hn(o,n,s),Co(o,n,s)),n={cache:Nh()},e.payload=n;return}n=n.return}}function b0(e,n,s){var o=cn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Tu(e)?Wg(n,s):(s=Th(e,n,s,o),s!==null&&(hn(s,e,o),tp(s,n,o)))}function Jg(e,n,s){var o=cn();Po(e,n,s,o)}function Po(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))Wg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,s);if(h.hasEagerState=!0,h.eagerState=E,sn(E,_))return ru(e,n,h,0),Jt===null&&iu(),!1}catch{}finally{}if(s=Th(e,n,h,o),s!==null)return hn(s,e,o),tp(s,n,o),!0}return!1}function nf(e,n,s,o){if(o={lane:2,revertLane:Uf(),action:o,hasEagerState:!1,eagerState:null,next:null},Tu(e)){if(n)throw Error(a(479))}else n=Th(e,s,o,2),n!==null&&hn(n,e,2)}function Tu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Wg(e,n){oa=gu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function tp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,eo(e,s)}}var Au={readContext:je,use:yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ep={readContext:je,use:yu,useCallback:function(e,n){return Je().memoizedState=[e,n===void 0?null:n],e},useContext:je,useEffect:Lg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Eu(4194308,4,jg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Eu(4194308,4,e,n)},useInsertionEffect:function(e,n){Eu(4,2,e,n)},useMemo:function(e,n){var s=Je();n=n===void 0?null:n;var o=e();if(gs){nn(!0);try{e()}finally{nn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=Je();if(s!==void 0){var h=s(n);if(gs){nn(!0);try{s(n)}finally{nn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=Je();return e={current:e},n.memoizedState=e},useState:function(e){e=$h(e);var n=e.queue,s=Jg.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Jh,useDeferredValue:function(e,n){var s=Je();return Wh(s,e,n)},useTransition:function(){var e=$h(!1);return e=Kg.bind(null,St,e.queue,!0,!1),Je().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=Je();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Ut&124)!==0||Ag(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Lg(bg.bind(null,o,f,e),[e]),o.flags|=2048,ua(9,vu(),Sg.bind(null,o,f,s,n),null),s},useId:function(){var e=Je(),n=Jt.identifierPrefix;if(zt){var s=Ri,o=bi;s=(o&~(1<<32-qe(o)-1)).toString(32)+s,n=""+n+"R"+s,s=pu++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=_0++,n=""+n+"r"+s.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ef,useFormState:Mg,useActionState:Mg,useOptimistic:function(e){var n=Je();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=nf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:Kh,useCacheRefresh:function(){return Je().memoizedState=S0.bind(null,St)}},np={readContext:je,use:yu,useCallback:Gg,useContext:je,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Fg,useReducer:_u,useRef:xg,useState:function(){return _u(Ci)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=pe();return Qg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=_u(Ci)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Vo(e),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:ef,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,n){var s=pe();return Ig(s,Kt,e,n)},useMemoCache:Kh,useCacheRefresh:Zg},R0={readContext:je,use:yu,useCallback:Gg,useContext:je,useEffect:zg,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:qg,useMemo:Fg,useReducer:Xh,useRef:xg,useState:function(){return Xh(Ci)},useDebugValue:Jh,useDeferredValue:function(e,n){var s=pe();return Kt===null?Wh(s,e,n):Qg(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Xh(Ci)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:Vo(e),n]},useSyncExternalStore:Tg,useId:$g,useHostTransitionStatus:ef,useFormState:kg,useActionState:kg,useOptimistic:function(e,n){var s=pe();return Kt!==null?Ig(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:Zg},ca=null,Uo=0;function Su(e){var n=Uo;return Uo+=1,ca===null&&(ca=[]),dg(ca,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function bu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ip(e){var n=e._init;return n(e._payload)}function rp(e){function n(M,O){if(e){var k=M.deletions;k===null?(M.deletions=[O],M.flags|=16):k.push(O)}}function s(M,O){if(!e)return null;for(;O!==null;)n(M,O),O=O.sibling;return null}function o(M){for(var O=new Map;M!==null;)M.key!==null?O.set(M.key,M):O.set(M.index,M),M=M.sibling;return O}function h(M,O){return M=Si(M,O),M.index=0,M.sibling=null,M}function f(M,O,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<O?(M.flags|=67108866,O):k):(M.flags|=67108866,O)):(M.flags|=1048576,O)}function _(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,O,k,F){return O===null||O.tag!==6?(O=Sh(k,M.mode,F),O.return=M,O):(O=h(O,k),O.return=M,O)}function b(M,O,k,F){var rt=k.type;return rt===J?H(M,O,k.props.children,F,k.key):O!==null&&(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ip(rt)===O.type)?(O=h(O,k.props),ko(O,k),O.return=M,O):(O=au(k.type,k.key,k.props,null,M.mode,F),ko(O,k),O.return=M,O)}function L(M,O,k,F){return O===null||O.tag!==4||O.stateNode.containerInfo!==k.containerInfo||O.stateNode.implementation!==k.implementation?(O=bh(k,M.mode,F),O.return=M,O):(O=h(O,k.children||[]),O.return=M,O)}function H(M,O,k,F,rt){return O===null||O.tag!==7?(O=os(k,M.mode,F,rt),O.return=M,O):(O=h(O,k),O.return=M,O)}function Q(M,O,k){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Sh(""+O,M.mode,k),O.return=M,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return k=au(O.type,O.key,O.props,null,M.mode,k),ko(k,O),k.return=M,k;case G:return O=bh(O,M.mode,k),O.return=M,O;case S:var F=O._init;return O=F(O._payload),Q(M,O,k)}if(re(O)||P(O))return O=os(O,M.mode,k,null),O.return=M,O;if(typeof O.then=="function")return Q(M,Su(O),k);if(O.$$typeof===ct)return Q(M,cu(M,O),k);bu(M,O)}return null}function z(M,O,k,F){var rt=O!==null?O.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return rt!==null?null:E(M,O,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===rt?b(M,O,k,F):null;case G:return k.key===rt?L(M,O,k,F):null;case S:return rt=k._init,k=rt(k._payload),z(M,O,k,F)}if(re(k)||P(k))return rt!==null?null:H(M,O,k,F,null);if(typeof k.then=="function")return z(M,O,Su(k),F);if(k.$$typeof===ct)return z(M,O,cu(M,k),F);bu(M,k)}return null}function B(M,O,k,F,rt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return M=M.get(k)||null,E(O,M,""+F,rt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return M=M.get(F.key===null?k:F.key)||null,b(O,M,F,rt);case G:return M=M.get(F.key===null?k:F.key)||null,L(O,M,F,rt);case S:var wt=F._init;return F=wt(F._payload),B(M,O,k,F,rt)}if(re(F)||P(F))return M=M.get(k)||null,H(O,M,F,rt,null);if(typeof F.then=="function")return B(M,O,k,Su(F),rt);if(F.$$typeof===ct)return B(M,O,k,cu(O,F),rt);bu(O,F)}return null}function mt(M,O,k,F){for(var rt=null,wt=null,st=O,ft=O=0,Ne=null;st!==null&&ft<k.length;ft++){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var xt=z(M,st,k[ft],F);if(xt===null){st===null&&(st=Ne);break}e&&st&&xt.alternate===null&&n(M,st),O=f(xt,O,ft),wt===null?rt=xt:wt.sibling=xt,wt=xt,st=Ne}if(ft===k.length)return s(M,st),zt&&us(M,ft),rt;if(st===null){for(;ft<k.length;ft++)st=Q(M,k[ft],F),st!==null&&(O=f(st,O,ft),wt===null?rt=st:wt.sibling=st,wt=st);return zt&&us(M,ft),rt}for(st=o(st);ft<k.length;ft++)Ne=B(st,M,ft,k[ft],F),Ne!==null&&(e&&Ne.alternate!==null&&st.delete(Ne.key===null?ft:Ne.key),O=f(Ne,O,ft),wt===null?rt=Ne:wt.sibling=Ne,wt=Ne);return e&&st.forEach(function(vr){return n(M,vr)}),zt&&us(M,ft),rt}function ht(M,O,k,F){if(k==null)throw Error(a(151));for(var rt=null,wt=null,st=O,ft=O=0,Ne=null,xt=k.next();st!==null&&!xt.done;ft++,xt=k.next()){st.index>ft?(Ne=st,st=null):Ne=st.sibling;var vr=z(M,st,xt.value,F);if(vr===null){st===null&&(st=Ne);break}e&&st&&vr.alternate===null&&n(M,st),O=f(vr,O,ft),wt===null?rt=vr:wt.sibling=vr,wt=vr,st=Ne}if(xt.done)return s(M,st),zt&&us(M,ft),rt;if(st===null){for(;!xt.done;ft++,xt=k.next())xt=Q(M,xt.value,F),xt!==null&&(O=f(xt,O,ft),wt===null?rt=xt:wt.sibling=xt,wt=xt);return zt&&us(M,ft),rt}for(st=o(st);!xt.done;ft++,xt=k.next())xt=B(st,M,ft,xt.value,F),xt!==null&&(e&&xt.alternate!==null&&st.delete(xt.key===null?ft:xt.key),O=f(xt,O,ft),wt===null?rt=xt:wt.sibling=xt,wt=xt);return e&&st.forEach(function(wA){return n(M,wA)}),zt&&us(M,ft),rt}function Xt(M,O,k,F){if(typeof k=="object"&&k!==null&&k.type===J&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var rt=k.key;O!==null;){if(O.key===rt){if(rt=k.type,rt===J){if(O.tag===7){s(M,O.sibling),F=h(O,k.props.children),F.return=M,M=F;break t}}else if(O.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ip(rt)===O.type){s(M,O.sibling),F=h(O,k.props),ko(F,k),F.return=M,M=F;break t}s(M,O);break}else n(M,O);O=O.sibling}k.type===J?(F=os(k.props.children,M.mode,F,k.key),F.return=M,M=F):(F=au(k.type,k.key,k.props,null,M.mode,F),ko(F,k),F.return=M,M=F)}return _(M);case G:t:{for(rt=k.key;O!==null;){if(O.key===rt)if(O.tag===4&&O.stateNode.containerInfo===k.containerInfo&&O.stateNode.implementation===k.implementation){s(M,O.sibling),F=h(O,k.children||[]),F.return=M,M=F;break t}else{s(M,O);break}else n(M,O);O=O.sibling}F=bh(k,M.mode,F),F.return=M,M=F}return _(M);case S:return rt=k._init,k=rt(k._payload),Xt(M,O,k,F)}if(re(k))return mt(M,O,k,F);if(P(k)){if(rt=P(k),typeof rt!="function")throw Error(a(150));return k=rt.call(k),ht(M,O,k,F)}if(typeof k.then=="function")return Xt(M,O,Su(k),F);if(k.$$typeof===ct)return Xt(M,O,cu(M,k),F);bu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,O!==null&&O.tag===6?(s(M,O.sibling),F=h(O,k),F.return=M,M=F):(s(M,O),F=Sh(k,M.mode,F),F.return=M,M=F),_(M)):s(M,O)}return function(M,O,k,F){try{Uo=0;var rt=Xt(M,O,k,F);return ca=null,rt}catch(st){if(st===wo||st===fu)throw st;var wt=an(29,st,null,M.mode);return wt.lanes=F,wt.return=M,wt}finally{}}}var ha=rp(!0),sp=rp(!1),bn=Y(null),Jn=null;function rr(e){var n=e.alternate;Z(Ae,Ae.current&1),Z(bn,e),Jn===null&&(n===null||aa.current!==null||n.memoizedState!==null)&&(Jn=e)}function ap(e){if(e.tag===22){if(Z(Ae,Ae.current),Z(bn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else sr()}function sr(){Z(Ae,Ae.current),Z(bn,bn.current)}function Di(e){et(bn),Jn===e&&(Jn=null),et(Ae)}var Ae=Y(0);function Ru(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Kf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var sf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=cn(),h=er(o);h.payload=n,s!=null&&(h.callback=s),n=nr(e,h,o),n!==null&&(hn(n,e,o),Co(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=cn(),h=er(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=nr(e,h,o),n!==null&&(hn(n,e,o),Co(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=cn(),o=er(s);o.tag=2,n!=null&&(o.callback=n),n=nr(e,o,s),n!==null&&(hn(n,e,s),Co(n,e,s))}};function op(e,n,s,o,h,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!_o(s,o)||!_o(h,f):!0}function lp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&sf.enqueueReplaceState(n,n.state,null)}function ps(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function up(e){wu(e)}function cp(e){console.error(e)}function hp(e){wu(e)}function Iu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function af(e,n,s){return s=er(s),s.tag=3,s.payload={element:null},s.callback=function(){Iu(e,n)},s}function dp(e){return e=er(e),e.tag=3,e}function mp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fp(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){fp(n,s,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function w0(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&So(n,s,h,!0),s=bn.current,s!==null){switch(s.tag){case 13:return Jn===null?Of():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Ph?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Vf(e,o,h)),!1;case 22:return s.flags|=65536,o===Ph?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Vf(e,o,h)),!1}throw Error(a(435,s.tag))}return Vf(e,o,h),Of(),!1}if(zt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Ih&&(e=Error(a(422),{cause:o}),Ao(En(e,s)))):(o!==Ih&&(n=Error(a(423),{cause:o}),Ao(En(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=En(o,s),h=af(e.stateNode,o,h),xh(e,h),oe!==4&&(oe=2)),!1;var f=Error(a(520),{cause:o});if(f=En(f,s),Ho===null?Ho=[f]:Ho.push(f),oe!==4&&(oe=2),n===null)return!0;o=En(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=af(s.stateNode,o,e),xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hr===null||!hr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=dp(h),mp(h,e,s,o),xh(s,h),!1}s=s.return}while(s!==null);return!1}var gp=Error(a(461)),De=!1;function Ue(e,n,s,o){n.child=e===null?sp(n,null,s,o):ha(n,e.child,s,o)}function pp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return ds(n),o=jh(e,n,s,_,f,h),E=Hh(),e!==null&&!De?(Gh(e,n,h),Oi(e,n,h)):(zt&&E&&Rh(n),n.flags|=1,Ue(e,n,o,h),n.child)}function yp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Ah(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,_p(e,n,f,o,h)):(e=au(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!mf(e,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:_o,s(_,o)&&e.ref===n.ref)return Oi(e,n,h)}return n.flags|=1,e=Si(f,o),e.ref=n.ref,e.return=n,n.child=e}function _p(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(_o(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,mf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Oi(e,n,h)}return of(e,n,s,o,h)}function vp(e,n,s){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|s:s,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Ep(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&hu(n,f!==null?f.cachePool:null),f!==null?_g(n,f):zh(),ap(n);else return n.lanes=n.childLanes=536870912,Ep(e,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(hu(n,f.cachePool),_g(n,f),sr(),n.memoizedState=null):(e!==null&&hu(n,null),zh(),sr());return Ue(e,n,h,s),n.child}function Ep(e,n,s,o){var h=Mh();return h=h===null?null:{parent:Te._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&hu(n,null),zh(),ap(n),e!==null&&So(e,n,o,!0),null}function Cu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function of(e,n,s,o,h){return ds(n),s=jh(e,n,s,o,void 0,h),o=Hh(),e!==null&&!De?(Gh(e,n,h),Oi(e,n,h)):(zt&&o&&Rh(n),n.flags|=1,Ue(e,n,s,h),n.child)}function Tp(e,n,s,o,h,f){return ds(n),n.updateQueue=null,s=Eg(n,o,s,h),vg(e),o=Hh(),e!==null&&!De?(Gh(e,n,f),Oi(e,n,f)):(zt&&o&&Rh(n),n.flags|=1,Ue(e,n,s,f),n.child)}function Ap(e,n,s,o,h){if(ds(n),n.stateNode===null){var f=ea,_=s.contextType;typeof _=="object"&&_!==null&&(f=je(_)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Uh(n),_=s.contextType,f.context=typeof _=="object"&&_!==null?je(_):ea,f.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(rf(n,s,_,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&sf.enqueueReplaceState(f,f.state,null),Oo(n,o,f,h),Do(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=ps(s,E);f.props=b;var L=f.context,H=s.contextType;_=ea,typeof H=="object"&&H!==null&&(_=je(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&lp(n,f,o,_),tr=!1;var z=n.memoizedState;f.state=z,Oo(n,o,f,h),Do(),L=n.memoizedState,E||z!==L||tr?(typeof Q=="function"&&(rf(n,s,Q,o),L=n.memoizedState),(b=tr||op(n,s,b,o,z,L,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,kh(e,n),_=n.memoizedProps,H=ps(s,_),f.props=H,Q=n.pendingProps,z=f.context,L=s.contextType,b=ea,typeof L=="object"&&L!==null&&(b=je(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==b)&&lp(n,f,o,b),tr=!1,z=n.memoizedState,f.state=z,Oo(n,o,f,h),Do();var B=n.memoizedState;_!==Q||z!==B||tr||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof E=="function"&&(rf(n,s,E,o),B=n.memoizedState),(H=tr||op(n,s,H,o,z,B,b)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Cu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ha(n,e.child,null,h),n.child=ha(n,null,s,h)):Ue(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Oi(e,n,h),e}function Sp(e,n,s,o){return To(),n.flags|=256,Ue(e,n,s,o),n.child}var lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(e){return{baseLanes:e,cachePool:cg()}}function cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function bp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?rr(n):sr(),zt){var E=ae,b;if(b=E){t:{for(b=E,E=Zn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Mn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ls!==null?{id:bi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},b=an(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,ae=null,b=!0):b=!1}b||hs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Kf(E)?n.lanes=32:n.lanes=536870912,null;Di(n)}return E=o.children,o=o.fallback,h?(sr(),h=n.mode,E=Du({mode:"hidden",children:E},h),o=os(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,h=n.child,h.memoizedState=uf(s),h.childLanes=cf(e,_,s),n.memoizedState=lf,o):(rr(n),hf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(rr(n),n.flags&=-257,n=ff(e,n,s)):n.memoizedState!==null?(sr(),n.child=e.child,n.flags|=128,n=null):(sr(),h=o.fallback,E=n.mode,o=Du({mode:"visible",children:o.children},E),h=os(h,E,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ha(n,e.child,null,s),o=n.child,o.memoizedState=uf(s),o.childLanes=cf(e,_,s),n.memoizedState=lf,n=h);else if(rr(n),Kf(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Ao({value:o,source:null,stack:null}),n=ff(e,n,s)}else if(De||So(e,n,s,!1),_=(s&e.childLanes)!==0,De||_){if(_=Jt,_!==null&&(o=s&-s,o=(o&42)!==0?1:Qi(o),o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ta(e,o),hn(_,e,o),gp;E.data==="$?"||Of(),n=ff(e,n,s)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,ae=Mn(E.nextSibling),Ze=n,zt=!0,cs=null,Zn=!1,e!==null&&(An[Sn++]=bi,An[Sn++]=Ri,An[Sn++]=ls,bi=e.id,Ri=e.overflow,ls=n),n=hf(n,o.children),n.flags|=4096);return n}return h?(sr(),h=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=Si(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Si(L,h):(h=os(h,E,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,E=e.child.memoizedState,E===null?E=uf(s):(b=E.cachePool,b!==null?(L=Te._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=cg(),E={baseLanes:E.baseLanes|s,cachePool:b}),h.memoizedState=E,h.childLanes=cf(e,_,s),n.memoizedState=lf,o):(rr(n),s=e.child,e=s.sibling,s=Si(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function hf(e,n){return n=Du({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Du(e,n){return e=an(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ff(e,n,s){return ha(n,e.child,null,s),e=hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Rp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Dh(e.return,n,s)}function df(e,n,s,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=h)}function wp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,s),o=Ae.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rp(e,s,n);else if(e.tag===19)Rp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Z(Ae,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ru(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),df(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ru(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}df(n,!0,s,null,f);break;case"together":df(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),cr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(So(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Si(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Si(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function I0(e,n,s){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Wi(n,Te,e.memoizedState.cache),To();break;case 27:case 5:Fi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?bp(e,n,s):(rr(n),e=Oi(e,n,s),e!==null?e.sibling:null);rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(So(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return wp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(Ae,Ae.current),o)break;return null;case 22:case 23:return n.lanes=0,vp(e,n,s);case 24:Wi(n,Te,e.memoizedState.cache)}return Oi(e,n,s)}function Ip(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!mf(e,s)&&(n.flags&128)===0)return De=!1,I0(e,n,s);De=(e.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&ig(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Ah(o)?(e=ps(o,e),n.tag=1,n=Ap(null,n,o,e,s)):(n.tag=0,n=of(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===Vt){n.tag=11,n=pp(null,n,o,e,s);break t}else if(h===V){n.tag=14,n=yp(null,n,o,e,s);break t}}throw n=fe(o)||o,Error(a(306,n,""))}}return n;case 0:return of(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ps(o,n.pendingProps),Ap(e,n,o,h,s);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,kh(e,n),Oo(n,o,null,s);var _=n.memoizedState;if(o=_.cache,Wi(n,Te,o),o!==f.cache&&Oh(n,[Te],s,!0),Do(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sp(e,n,o,s);break t}else if(o!==h){h=En(Error(a(424)),n),Ao(h),n=Sp(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Mn(e.firstChild),Ze=n,zt=!0,cs=null,Zn=!0,s=sp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(To(),o===h){n=Oi(e,n,s);break t}Ue(e,n,o,s)}n=n.child}return n;case 26:return Cu(e,n),e===null?(s=Ny(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=Hu(yt.current).createElement(s),o[_e]=n,o[de]=e,xe(o,s,e),le(o),n.stateNode=o):n.memoizedState=Ny(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fi(n),e===null&&zt&&(o=n.stateNode=Cy(n.type,n.pendingProps,yt.current),Ze=n,Zn=!0,h=ae,mr(n.type)?(Yf=h,ae=Mn(o.firstChild)):ae=h),Ue(e,n,n.pendingProps.children,s),Cu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ae)&&(o=eA(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,Ze=n,ae=Mn(o.firstChild),Zn=!1,h=!0):h=!1),h||hs(n)),Fi(n),h=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Gf(h,f)?o=null:_!==null&&Gf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=jh(e,n,v0,null,null,s),Jo._currentValue=h),Cu(e,n),Ue(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=ae)&&(s=nA(s,n.pendingProps,Zn),s!==null?(n.stateNode=s,Ze=n,ae=null,e=!0):e=!1),e||hs(n)),null;case 13:return bp(e,n,s);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ha(n,null,o,s):Ue(e,n,o,s),n.child;case 11:return pp(e,n,n.type,n.pendingProps,s);case 7:return Ue(e,n,n.pendingProps,s),n.child;case 8:return Ue(e,n,n.pendingProps.children,s),n.child;case 12:return Ue(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Wi(n,n.type,o.value),Ue(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,ds(n),h=je(h),o=o(h),n.flags|=1,Ue(e,n,o,s),n.child;case 14:return yp(e,n,n.type,n.pendingProps,s);case 15:return _p(e,n,n.type,n.pendingProps,s);case 19:return wp(e,n,s);case 31:return o=n.pendingProps,s=n.mode,o={mode:o.mode,children:o.children},e===null?(s=Du(o,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Si(e.child,o),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return vp(e,n,s);case 24:return ds(n),o=je(Te),e===null?(h=Mh(),h===null&&(h=Jt,f=Nh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},Uh(n),Wi(n,Te,h)):((e.lanes&s)!==0&&(kh(e,n),Oo(n,null,null,s),Do()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Wi(n,Te,o)):(o=f.cache,Wi(n,Te,o),o!==h.cache&&Oh(n,[Te],s,!0))),Ue(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ni(e){e.flags|=4}function Cp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ky(n)){if(n=bn.current,n!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw Io=Ph,hg;e.flags|=8192}}function Ou(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wa():536870912,e.lanes|=n,ga|=n)}function xo(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function C0(e,n,s){var o=n.pendingProps;switch(wh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ii(Te),zn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?Ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ag())),ne(n),null;case 26:return s=n.memoizedState,e===null?(Ni(n),s!==null?(ne(n),Cp(n,s)):(ne(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ni(n),ne(n),Cp(n,s)):(ne(n),n.flags&=-16777217):(e.memoizedProps!==o&&Ni(n),ne(n),n.flags&=-16777217),null;case 27:ci(n),s=yt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=lt.current,Eo(n)?rg(n):(e=Cy(h,o,s),n.stateNode=e,Ni(n))}return ne(n),null;case 5:if(ci(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(e=lt.current,Eo(n))rg(n);else{switch(h=Hu(yt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[_e]=n,e[de]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(xe(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ni(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,Eo(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ty(e.nodeValue,s)),e||hs(n)}else e=Hu(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Eo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else To(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=ag(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Ou(n,n.updateQueue),ne(n),null;case 4:return zn(),e===null&&zf(n.stateNode.containerInfo),ne(n),null;case 10:return Ii(n.type),ne(n),null;case 19:if(et(Ae),h=n.memoizedState,h===null)return ne(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)xo(h,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ru(e),f!==null){for(n.flags|=128,xo(h,!1),e=f.updateQueue,n.updateQueue=e,Ou(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)ng(s,e),s=s.sibling;return Z(Ae,Ae.current&1|2),n.child}e=e.sibling}h.tail!==null&&mn()>Mu&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304)}else{if(!o)if(e=Ru(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Ou(n,e),xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!zt)return ne(n),null}else 2*mn()-h.renderingStartTime>Mu&&s!==536870912&&(n.flags|=128,o=!0,xo(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=mn(),n.sibling=null,e=Ae.current,Z(Ae,o?e&1|2:e&1),n):(ne(n),null);case 22:case 23:return Di(n),Bh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Ou(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&et(ms),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function D0(e,n){switch(wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ii(Te),zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));To()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Ae),null;case 4:return zn(),null;case 10:return Ii(n.type),null;case 22:case 23:return Di(n),Bh(),e!==null&&et(ms),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ii(Te),null;case 25:return null;default:return null}}function Dp(e,n){switch(wh(n),n.tag){case 3:Ii(Te),zn();break;case 26:case 27:case 5:ci(n);break;case 4:zn();break;case 13:Di(n);break;case 19:et(Ae);break;case 10:Ii(n.type);break;case 22:case 23:Di(n),Bh(),e!==null&&et(ms);break;case 24:Ii(Te)}}function Lo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,_=s.inst;o=f(),_.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function ar(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var b=s,L=E;try{L()}catch(H){$t(h,b,H)}}}o=o.next}while(o!==f)}}catch(H){$t(n,n.return,H)}}function Op(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{yg(n,s)}catch(o){$t(e,e.return,o)}}}function Np(e,n,s){s.props=ps(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Wn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function Vp(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function gf(e,n,s){try{var o=e.stateNode;$0(o,e.type,s,n),o[de]=n}catch(h){$t(e,e.return,h)}}function Mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ju));else if(o!==4&&(o===27&&mr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(yf(e,n,s),e=e.sibling;e!==null;)yf(e,n,s),e=e.sibling}function Nu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Nu(e,n,s),e=e.sibling;e!==null;)Nu(e,n,s),e=e.sibling}function Pp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);xe(n,o,s),n[_e]=e,n[de]=s}catch(f){$t(e,e.return,f)}}var Vi=!1,ce=!1,_f=!1,Up=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function O0(e,n){if(e=e.containerInfo,jf=Xu,e=Qm(e),gh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var _=0,E=-1,b=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==s||h!==0&&Q.nodeType!==3||(E=_+h),Q!==f||o!==0&&Q.nodeType!==3||(b=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===s&&++L===h&&(E=_),z===f&&++H===o&&(b=_),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}s=E===-1||b===-1?null:{start:E,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(Hf={focusedElem:e,selectionRange:s},Xu=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var mt=ps(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(mt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){$t(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Qf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function kp(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:or(e,s),o&4&&Lo(5,s);break;case 1:if(or(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(_){$t(s,s.return,_)}else{var h=ps(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){$t(s,s.return,_)}}o&64&&Op(s),o&512&&zo(s,s.return);break;case 3:if(or(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{yg(e,n)}catch(_){$t(s,s.return,_)}}break;case 27:n===null&&o&4&&Pp(s);case 26:case 5:or(e,s),n===null&&o&4&&Vp(s),o&512&&zo(s,s.return);break;case 12:or(e,s);break;case 13:or(e,s),o&4&&zp(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=z0.bind(null,s),iA(e,s))));break;case 22:if(o=s.memoizedState!==null||Vi,!o){n=n!==null&&n.memoizedState!==null||ce,h=Vi;var f=ce;Vi=o,(ce=n)&&!f?lr(e,s,(s.subtreeFlags&8772)!==0):or(e,s),Vi=h,ce=f}break;case 30:break;default:or(e,s)}}function xp(e){var n=e.alternate;n!==null&&(e.alternate=null,xp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var te=null,We=!1;function Mi(e,n,s){for(s=s.child;s!==null;)Lp(e,n,s),s=s.sibling}function Lp(e,n,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(se,s)}catch{}switch(s.tag){case 26:ce||Wn(s,n),Mi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||Wn(s,n);var o=te,h=We;mr(s.type)&&(te=s.stateNode,We=!1),Mi(e,n,s),Yo(s.stateNode),te=o,We=h;break;case 5:ce||Wn(s,n);case 6:if(o=te,h=We,te=null,Mi(e,n,s),te=o,We=h,te!==null)if(We)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{te.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:te!==null&&(We?(e=te,wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),nl(e)):wy(te,s.stateNode));break;case 4:o=te,h=We,te=s.stateNode.containerInfo,We=!0,Mi(e,n,s),te=o,We=h;break;case 0:case 11:case 14:case 15:ce||ar(2,s,n),ce||ar(4,s,n),Mi(e,n,s);break;case 1:ce||(Wn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Np(s,n,o)),Mi(e,n,s);break;case 21:Mi(e,n,s);break;case 22:ce=(o=ce)||s.memoizedState!==null,Mi(e,n,s),ce=o;break;default:Mi(e,n,s)}}function zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(s){$t(n,n.return,s)}}function N0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Up),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Up),n;default:throw Error(a(435,e.tag))}}function vf(e,n){var s=N0(e);n.forEach(function(o){var h=B0.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function on(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){te=E.stateNode,We=!1;break t}break;case 5:te=E.stateNode,We=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,We=!0;break t}E=E.return}if(te===null)throw Error(a(160));Lp(f,_,h),te=null,We=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Bp(n,e),n=n.sibling}var Vn=null;function Bp(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(ar(3,e,e.return),Lo(3,e),ar(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(ce||s===null||Wn(s,s.return)),o&64&&Vi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Vn;if(on(n,e),ln(e),o&512&&(ce||s===null||Wn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Fr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),xe(f,o,s),f[_e]=e,le(f),o=f;break t;case"link":var _=Py("link","href",h).get(o+(s.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(E,1);break e}}f=h.createElement(o),xe(f,o,s),h.head.appendChild(f);break;case"meta":if(_=Py("meta","content",h).get(o+(s.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(E,1);break e}}f=h.createElement(o),xe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,le(f),o=f}e.stateNode=o}else Uy(h,e.type,e.stateNode);else e.stateNode=My(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Uy(h,e.type,e.stateNode):My(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(ce||s===null||Wn(s,s.return)),s!==null&&o&4&&gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(ce||s===null||Wn(s,s.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,gf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(_f=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(Qu=null,h=Vn,Vn=Gu(n.containerInfo),on(n,e),Vn=h,ln(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(B){$t(e,e.return,B)}_f&&(_f=!1,qp(e));break;case 4:o=Vn,Vn=Gu(e.stateNode.containerInfo),on(n,e),ln(e),Vn=o;break;case 12:on(n,e),ln(e);break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rf=mn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 22:h=e.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,L=Vi,H=ce;if(Vi=L||h,ce=H||b,on(n,e),ce=H,Vi=L,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||b||Vi||ce||ys(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,vf(e,s))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,vf(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Mp(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=pf(e);Nu(e,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(pn(_,""),s.flags&=-33);var E=pf(e);Nu(e,E,_);break;case 3:case 4:var b=s.stateNode.containerInfo,L=pf(e);yf(e,L,b);break;default:throw Error(a(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function or(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kp(e,n.alternate,n),n=n.sibling}function ys(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),ys(n);break;case 1:Wn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Np(n,n.return,s),ys(n);break;case 27:Yo(n.stateNode);case 26:case 5:Wn(n,n.return),ys(n);break;case 22:n.memoizedState===null&&ys(n);break;case 30:ys(n);break;default:ys(n)}e=e.sibling}}function lr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:lr(h,f,s),Lo(4,f);break;case 1:if(lr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)pg(b[h],E)}catch(L){$t(o,o.return,L)}}s&&_&64&&Op(f),zo(f,f.return);break;case 27:Pp(f);case 26:case 5:lr(h,f,s),s&&o===null&&_&4&&Vp(f),zo(f,f.return);break;case 12:lr(h,f,s);break;case 13:lr(h,f,s),s&&_&4&&zp(h,f);break;case 22:f.memoizedState===null&&lr(h,f,s),zo(f,f.return);break;case 30:break;default:lr(h,f,s)}n=n.sibling}}function Ef(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&bo(s))}function Tf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e))}function ti(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jp(e,n,s,o),n=n.sibling}function jp(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,s,o),h&2048&&Lo(9,n);break;case 1:ti(e,n,s,o);break;case 3:ti(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bo(e)));break;case 12:if(h&2048){ti(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else ti(e,n,s,o);break;case 13:ti(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,s,o):Bo(e,n):f._visibility&2?ti(e,n,s,o):(f._visibility|=2,fa(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Ef(_,n);break;case 24:ti(e,n,s,o),h&2048&&Tf(n.alternate,n);break;default:ti(e,n,s,o)}}function fa(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=s,b=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:fa(f,_,E,b,h),Lo(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?fa(f,_,E,b,h):Bo(f,_):(H._visibility|=2,fa(f,_,E,b,h)),h&&L&2048&&Ef(_.alternate,_);break;case 24:fa(f,_,E,b,h),h&&L&2048&&Tf(_.alternate,_);break;default:fa(f,_,E,b,h)}n=n.sibling}}function Bo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Bo(s,o),h&2048&&Ef(o.alternate,o);break;case 24:Bo(s,o),h&2048&&Tf(o.alternate,o);break;default:Bo(s,o)}n=n.sibling}}var qo=8192;function da(e){if(e.subtreeFlags&qo)for(e=e.child;e!==null;)Hp(e),e=e.sibling}function Hp(e){switch(e.tag){case 26:da(e),e.flags&qo&&e.memoizedState!==null&&pA(Vn,e.memoizedState,e.memoizedProps);break;case 5:da(e);break;case 3:case 4:var n=Vn;Vn=Gu(e.stateNode.containerInfo),da(e),Vn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=qo,qo=16777216,da(e),qo=n):da(e));break;default:da(e)}}function Gp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Oe=o,Qp(o,e)}Gp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fp(e),e=e.sibling}function Fp(e){switch(e.tag){case 0:case 11:case 15:jo(e),e.flags&2048&&ar(9,e,e.return);break;case 3:jo(e);break;case 12:jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Vu(e)):jo(e);break;default:jo(e)}}function Vu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Oe=o,Qp(o,e)}Gp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ar(8,n,n.return),Vu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Vu(n));break;default:Vu(n)}e=e.sibling}}function Qp(e,n){for(;Oe!==null;){var s=Oe;switch(s.tag){case 0:case 11:case 15:ar(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Oe=o;else t:for(s=e;Oe!==null;){o=Oe;var h=o.sibling,f=o.return;if(xp(o),o===s){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var V0={getCacheForType:function(e){var n=je(Te),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},M0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Jt=null,Ct=null,Ut=0,Gt=0,un=null,ur=!1,ma=!1,Af=!1,Pi=0,oe=0,cr=0,_s=0,Sf=0,Rn=0,ga=0,Ho=null,tn=null,bf=!1,Rf=0,Mu=1/0,Pu=null,hr=null,ke=0,fr=null,pa=null,ya=0,wf=0,If=null,Kp=null,Go=0,Cf=null;function cn(){if((Ht&2)!==0&&Ut!==0)return Ut&-Ut;if(j.T!==null){var e=ra;return e!==0?e:Uf()}return Ki()}function Yp(){Rn===0&&(Rn=(Ut&536870912)===0||zt?Ja():536870912);var e=bn.current;return e!==null&&(e.flags|=32),Rn}function hn(e,n,s){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(_a(e,0),dr(e,Ut,Rn,!1)),fi(e,s),((Ht&2)===0||e!==Jt)&&(e===Jt&&((Ht&2)===0&&(_s|=s),oe===4&&dr(e,Ut,Rn,!1)),ei(e))}function Xp(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Gr(e,n),h=o?k0(e,n):Nf(e,n,!0),f=o;do{if(h===0){ma&&!o&&dr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!P0(s)){h=Nf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;h=Ho;var b=E.current.memoizedState.isDehydrated;if(b&&(_a(E,_).flags|=256),_=Nf(E,_,!1),_!==2){if(Af&&!b){E.errorRecoveryDisabledLanes|=f,_s|=f,h=4;break t}f=tn,tn=h,f!==null&&(tn===null?tn=f:tn.push.apply(tn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){_a(e,0),dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:dr(o,n,Rn,!ur);break t;case 2:tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Rf+300-mn(),10<h)){if(dr(o,n,Rn,!ur),Us(o,0,!0)!==0)break t;o.timeoutHandle=by($p.bind(null,o,s,tn,Pu,bf,n,Rn,_s,ga,ur,f,2,-0,0),h);break t}$p(o,s,tn,Pu,bf,n,Rn,_s,ga,ur,f,0,-0,0)}}break}while(!0);ei(e)}function $p(e,n,s,o,h,f,_,E,b,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Zo={stylesheets:null,count:0,unsuspend:gA},Hp(n),Q=yA(),Q!==null)){e.cancelPendingCommit=Q(iy.bind(null,e,n,f,s,o,h,_,E,b,H,1,z,B)),dr(e,f,_,!L);return}iy(e,n,f,s,o,h,_,E,b)}function P0(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function dr(e,n,s,o){n&=~Sf,n&=~_s,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-qe(h),_=1<<f;o[f]=-1,h&=~_}s!==0&&Bn(e,s,n)}function Uu(){return(Ht&6)===0?(Fo(0),!1):!0}function Df(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,wi=fs=null,Fh(e),ca=null,Uo=0,e=Ct;for(;e!==null;)Dp(e.alternate,e),e=e.return;Ct=null}}function _a(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Df(),Jt=e,Ct=s=Si(e.current,null),Ut=n,Gt=0,un=null,ur=!1,ma=Gr(e,n),Af=!1,ga=Rn=Sf=_s=cr=oe=0,tn=Ho=null,bf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-qe(o),f=1<<h;n|=e[h],o&=~f}return Pi=n,iu(),s}function Zp(e,n){St=null,j.H=Au,n===wo||n===fu?(n=mg(),Gt=3):n===hg?(n=mg(),Gt=4):Gt=n===gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Ct===null&&(oe=1,Iu(e,En(n,e.current)))}function Jp(){var e=j.H;return j.H=Au,e===null?Au:e}function Wp(){var e=j.A;return j.A=V0,e}function Of(){oe=4,ur||(Ut&4194048)!==Ut&&bn.current!==null||(ma=!0),(cr&134217727)===0&&(_s&134217727)===0||Jt===null||dr(Jt,Ut,Rn,!1)}function Nf(e,n,s){var o=Ht;Ht|=2;var h=Jp(),f=Wp();(Jt!==e||Ut!==n)&&(Pu=null,_a(e,n)),n=!1;var _=oe;t:do try{if(Gt!==0&&Ct!==null){var E=Ct,b=un;switch(Gt){case 8:Df(),_=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var L=Gt;if(Gt=0,un=null,va(e,E,b,L),s&&ma){_=0;break t}break;default:L=Gt,Gt=0,un=null,va(e,E,b,L)}}U0(),_=oe;break}catch(H){Zp(e,H)}while(!0);return n&&e.shellSuspendCounter++,wi=fs=null,Ht=o,j.H=h,j.A=f,Ct===null&&(Jt=null,Ut=0,iu()),_}function U0(){for(;Ct!==null;)ty(Ct)}function k0(e,n){var s=Ht;Ht|=2;var o=Jp(),h=Wp();Jt!==e||Ut!==n?(Pu=null,Mu=mn()+500,_a(e,n)):ma=Gr(e,n);t:do try{if(Gt!==0&&Ct!==null){n=Ct;var f=un;e:switch(Gt){case 1:Gt=0,un=null,va(e,n,f,1);break;case 2:case 9:if(fg(f)){Gt=0,un=null,ey(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ei(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:fg(f)?(Gt=0,un=null,ey(n)):(Gt=0,un=null,va(e,n,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var E=Ct;if(!_||ky(_)){Gt=0,un=null;var b=E.sibling;if(b!==null)Ct=b;else{var L=E.return;L!==null?(Ct=L,ku(L)):Ct=null}break e}}Gt=0,un=null,va(e,n,f,5);break;case 6:Gt=0,un=null,va(e,n,f,6);break;case 8:Df(),oe=6;break t;default:throw Error(a(462))}}x0();break}catch(H){Zp(e,H)}while(!0);return wi=fs=null,j.H=o,j.A=h,Ht=s,Ct!==null?0:(Jt=null,Ut=0,iu(),oe)}function x0(){for(;Ct!==null&&!Ya();)ty(Ct)}function ty(e){var n=Ip(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,n===null?ku(e):Ct=n}function ey(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Tp(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Tp(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Fh(n);default:Dp(s,n),n=Ct=ng(n,Pi),n=Ip(s,n,Pi)}e.memoizedProps=e.pendingProps,n===null?ku(e):Ct=n}function va(e,n,s,o){wi=fs=null,Fh(n),ca=null,Uo=0;var h=n.return;try{if(w0(e,h,n,s,Ut)){oe=1,Iu(e,En(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;oe=1,Iu(e,En(s,e.current)),Ct=null;return}n.flags&32768?(zt||o===1?e=!0:ma||(Ut&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),ny(n,e)):ku(n)}function ku(e){var n=e;do{if((n.flags&32768)!==0){ny(n,ur);return}e=n.return;var s=C0(n.alternate,n,Pi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);oe===0&&(oe=5)}function ny(e,n){do{var s=D0(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);oe=6,Ct=null}function iy(e,n,s,o,h,f,_,E,b){e.cancelPendingCommit=null;do xu();while(ke!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Eh,to(e,s,f,_,E,b),e===Jt&&(Ct=Jt=null,Ut=0),pa=n,fr=e,ya=s,wf=f,If=h,Kp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,q0(Br,function(){return ly(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=tt.p,tt.p=2,_=Ht,Ht|=4;try{O0(e,n,s)}finally{Ht=_,tt.p=h,j.T=o}}ke=1,ry(),sy(),ay()}}function ry(){if(ke===1){ke=0;var e=fr,n=pa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{Bp(n,e);var f=Hf,_=Qm(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&Fm(E.ownerDocument.documentElement,E)){if(b!==null&&gh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),mt=E.textContent.length,ht=Math.min(b.start,mt),Xt=b.end===void 0?ht:Math.min(b.end,mt);!B.extend&&ht>Xt&&(_=Xt,Xt=ht,ht=_);var M=Gm(E,ht),O=Gm(E,Xt);if(M&&O&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var k=Q.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),ht>Xt?(B.addRange(k),B.extend(O.node,O.offset)):(k.setEnd(O.node,O.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Xu=!!jf,Hf=jf=null}finally{Ht=h,tt.p=o,j.T=s}}e.current=n,ke=2}}function sy(){if(ke===2){ke=0;var e=fr,n=pa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=tt.p;tt.p=2;var h=Ht;Ht|=4;try{kp(e,n.alternate,n)}finally{Ht=h,tt.p=o,j.T=s}}ke=3}}function ay(){if(ke===4||ke===3){ke=0,Vl();var e=fr,n=pa,s=ya,o=Kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,pa=fr=null,oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),ks(s),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=h}}(ya&3)!==0&&xu(),ei(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Cf?Go++:(Go=0,Cf=e):Go=0,Fo(0)}}function oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bo(n)))}function xu(e){return ry(),sy(),ay(),ly()}function ly(){if(ke!==5)return!1;var e=fr,n=wf;wf=0;var s=ks(ya),o=j.T,h=tt.p;try{tt.p=32>s?32:s,j.T=null,s=If,If=null;var f=fr,_=ya;if(ke=0,pa=fr=null,ya=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Fp(f.current),jp(f,f.current,_,s),Ht=E,Fo(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{tt.p=h,j.T=o,oy(e,n)}}function uy(e,n,s){n=En(s,n),n=af(e.stateNode,n,2),e=nr(e,n,2),e!==null&&(fi(e,2),ei(e))}function $t(e,n,s){if(e.tag===3)uy(e,e,s);else for(;n!==null;){if(n.tag===3){uy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=En(s,e),s=dp(2),o=nr(n,s,2),o!==null&&(mp(s,o,n,e),fi(o,2),ei(o));break}}n=n.return}}function Vf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new M0;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Af=!0,h.add(s),e=L0.bind(null,e,n,s),n.then(e,e))}function L0(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Ut&s)===s&&(oe===4||oe===3&&(Ut&62914560)===Ut&&300>mn()-Rf?(Ht&2)===0&&_a(e,0):Sf|=s,ga===Ut&&(ga=0)),ei(e)}function cy(e,n){n===0&&(n=Wa()),e=ta(e,n),e!==null&&(fi(e,n),ei(e))}function z0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),cy(e,s)}function B0(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),cy(e,s)}function q0(e,n){return Lr(e,n)}var Lu=null,Ea=null,Mf=!1,zu=!1,Pf=!1,vs=0;function ei(e){e!==Ea&&e.next===null&&(Ea===null?Lu=Ea=e:Ea=Ea.next=e),zu=!0,Mf||(Mf=!0,H0())}function Fo(e,n){if(!Pf&&zu){Pf=!0;do for(var s=!1,o=Lu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-qe(42|e)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,my(o,f))}else f=Ut,f=Us(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Gr(o,f)||(s=!0,my(o,f));o=o.next}while(s);Pf=!1}}function j0(){hy()}function hy(){zu=Mf=!1;var e=0;vs!==0&&(Z0()&&(e=vs),vs=0);for(var n=mn(),s=null,o=Lu;o!==null;){var h=o.next,f=fy(o,n);f===0?(o.next=null,s===null?Lu=h:s.next=h,h===null&&(Ea=s)):(s=o,(e!==0||(f&3)!==0)&&(zu=!0)),o=h}Fo(e)}function fy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-qe(f),E=1<<_,b=h[_];b===-1?((E&s)===0||(E&o)!==0)&&(h[_]=Za(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Ut,s=Us(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&zr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gr(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&zr(o),ks(s)){case 2:case 8:s=Ms;break;case 32:s=Br;break;case 268435456:s=Ps;break;default:s=Br}return o=dy.bind(null,e),s=Lr(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&zr(o),e.callbackPriority=2,e.callbackNode=null,2}function dy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(xu()&&e.callbackNode!==s)return null;var o=Ut;return o=Us(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Xp(e,o,n),fy(e,mn()),e.callbackNode!=null&&e.callbackNode===s?dy.bind(null,e):null)}function my(e,n){if(xu())return null;Xp(e,n,!0)}function H0(){W0(function(){(Ht&6)!==0?Lr(Xa,j0):hy()})}function Uf(){return vs===0&&(vs=Ja()),vs}function gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:js(""+e)}function py(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function G0(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=gy((h[de]||null).action),_=o.submitter;_&&(n=(n=_[de]||null)?gy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Hs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(vs!==0){var b=_?py(h,_):new FormData(h);tf(s,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=_?py(h,_):new FormData(h),tf(s,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var kf=0;kf<vh.length;kf++){var xf=vh[kf],F0=xf.toLowerCase(),Q0=xf[0].toUpperCase()+xf.slice(1);Nn(F0,"on"+Q0)}Nn(Xm,"onAnimationEnd"),Nn($m,"onAnimationIteration"),Nn(Zm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(u0,"onTransitionRun"),Nn(c0,"onTransitionStart"),Nn(h0,"onTransitionCancel"),Nn(Jm,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=b}else for(_=0;_<o.length;_++){if(E=o[_],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(H){wu(H)}h.currentTarget=null,f=b}}}}function Dt(e,n){var s=n[no];s===void 0&&(s=n[no]=new Set);var o=e+"__bubble";s.has(o)||(_y(n,e,2,!1),s.add(o))}function Lf(e,n,s){var o=0;n&&(o|=4),_y(s,e,o,n)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[Bu]){e[Bu]=!0,io.forEach(function(s){s!=="selectionchange"&&(K0.has(s)||Lf(s,!1,e),Lf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Bu]||(n[Bu]=!0,Lf("selectionchange",!1,n))}}function _y(e,n,s,o){switch(jy(n)){case 2:var h=EA;break;case 8:h=TA;break;default:h=Wf}s=h.bind(null,n,s,e),h=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Bf(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=o.return;_!==null;){var b=_.tag;if((b===3||b===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=di(E),_===null)return;if(b=_.tag,b===5||b===6||b===26||b===27){o=f=_;continue t}E=E.parentNode}}o=o.return}jl(function(){var L=f,H=yn(s),Q=[];t:{var z=Wm.get(e);if(z!==void 0){var B=Hs,mt=e;switch(e){case"keypress":if(Qn(s)===0)break t;case"keydown":case"keyup":B=Xs;break;case"focusin":mt="focus",B=Qs;break;case"focusout":mt="blur",B=Qs;break;case"beforeblur":case"afterblur":B=Qs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=$l;break;case Xm:case $m:case Zm:B=Ks;break;case Jm:B=Jl;break;case"scroll":case"scrollend":B=Hl;break;case"wheel":B=$s;break;case"copy":case"cut":case"paste":B=Ys;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=po;break;case"toggle":case"beforetoggle":B=tu}var ht=(n&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),M=ht?z!==null?z+"Capture":null:z;ht=[];for(var O=L,k;O!==null;){var F=O;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||M===null||(F=Jr(O,M),F!=null&&ht.push(Ko(O,F,k))),Xt)break;O=O.return}0<ht.length&&(z=new B(z,mt,null,s,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==yi&&(mt=s.relatedTarget||s.fromElement)&&(di(mt)||mt[gn]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(mt=s.relatedTarget||s.toElement,B=L,mt=mt?di(mt):null,mt!==null&&(Xt=c(mt),ht=mt.tag,mt!==Xt||ht!==5&&ht!==27&&ht!==6)&&(mt=null)):(B=null,mt=L),B!==mt)){if(ht=vn,F="onMouseLeave",M="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ht=po,F="onPointerLeave",M="onPointerEnter",O="pointer"),Xt=B==null?z:jn(B),k=mt==null?z:jn(mt),z=new ht(F,O+"leave",B,s,H),z.target=Xt,z.relatedTarget=k,F=null,di(H)===L&&(ht=new ht(M,O+"enter",mt,s,H),ht.target=k,ht.relatedTarget=Xt,F=ht),Xt=F,B&&mt)e:{for(ht=B,M=mt,O=0,k=ht;k;k=Ta(k))O++;for(k=0,F=M;F;F=Ta(F))k++;for(;0<O-k;)ht=Ta(ht),O--;for(;0<k-O;)M=Ta(M),k--;for(;O--;){if(ht===M||M!==null&&ht===M.alternate)break e;ht=Ta(ht),M=Ta(M)}ht=null}else ht=null;B!==null&&vy(Q,z,B,ht,!1),mt!==null&&Xt!==null&&vy(Q,Xt,mt,ht,!0)}}t:{if(z=L?jn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var rt=Lm;else if(Ee(z))if(zm)rt=a0;else{rt=r0;var wt=i0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&lo(L.elementType)&&(rt=Lm):rt=s0;if(rt&&(rt=rt(e,L))){Ai(Q,rt,s,H);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(wt=L?jn(L):window,e){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(Zs=wt,ph=L,vo=null);break;case"focusout":vo=ph=Zs=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Km(Q,s,H);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Km(Q,s,H)}var st;if(Xn)t:{switch(e){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Mt?q(e,s)&&(ft="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ft="onCompositionStart");ft&&(y&&s.locale!=="ko"&&(Mt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Mt&&(st=co()):(Fn=H,Ji="value"in Fn?Fn.value:Fn.textContent,Mt=!0)),wt=qu(L,ft),0<wt.length&&(ft=new mo(ft,e,null,s,H),Q.push({event:ft,listeners:wt}),st?ft.data=st:(st=W(s),st!==null&&(ft.data=st)))),(st=m?ve(e,s):Pt(e,s))&&(ft=qu(L,"onBeforeInput"),0<ft.length&&(wt=new mo("onBeforeInput","beforeinput",null,s,H),Q.push({event:wt,listeners:ft}),wt.data=st)),G0(Q,e,L,s,H)}yy(Q,n)})}function Ko(e,n,s){return{instance:e,listener:n,currentTarget:s}}function qu(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(e,s),h!=null&&o.unshift(Ko(e,h,f)),h=Jr(e,n),h!=null&&o.push(Ko(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vy(e,n,s,o,h){for(var f=n._reactName,_=[];s!==null&&s!==o;){var E=s,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=Jr(s,f),L!=null&&_.unshift(Ko(s,L,b))):h||(L=Jr(s,f),L!=null&&_.push(Ko(s,L,b)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var Y0=/\r\n?/g,X0=/\u0000|\uFFFD/g;function Ey(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(X0,"")}function Ty(e,n){return n=Ey(n),Ey(e)===n}function ju(){}function Yt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,s,o);break;case"style":oo(e,o,f);break;case"data":if(n!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=js(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=js(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ju);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=js(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uh.get(s)||s,$i(e,s,o))}}function qf(e,n,s,o,h,f){switch(s){case"style":oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[de]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):$i(e,s,o)}}}function xe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,f,_,s,null)}}h&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var E=f=_=h=null,b=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":_=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Yt(e,n,o,H,s,null)}}Xr(e,f,E,b,L,_,h,!1),qs(e);return;case"select":Dt("invalid",e),o=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Yt(e,n,h,E,s,null)}n=f,s=_,e.multiple=!!o,n!=null?pi(e,!!o,n,!1):s!=null&&pi(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(E=s[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(e,n,_,E,s,null)}$r(e,o,h,f),qs(e);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(o=s[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,b,o,s,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Qo.length;o++)Dt(Qo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,L,o,s,null)}return;default:if(lo(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&qf(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Yt(e,n,E,o,s,null))}function $0(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,b=null,L=null,H=null;for(B in s){var Q=s[B];if(s.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Yt(e,n,z,B,o,Q)}}rn(e,_,E,b,L,H,f,h);return;case"select":B=_=E=z=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,b)}for(h in o)if(f=o[h],b=s[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==b&&Yt(e,n,h,f,o,b)}n=E,s=_,o=B,z!=null?pi(e,!!s,z,!1):!!o!=!!s&&(n!=null?pi(e,!!s,n,!0):pi(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(_ in o)if(h=o[_],f=s[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Yt(e,n,_,h,o,f)}Qt(e,z,B);return;case"option":for(var mt in s)if(z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt))switch(mt){case"selected":e.selected=!1;break;default:Yt(e,n,mt,null,o,z)}for(b in o)if(z=o[b],B=s[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Yt(e,n,ht,null,o,z);for(L in o)if(z=o[L],B=s[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(lo(n)){for(var Xt in s)z=s[Xt],s.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&qf(e,n,Xt,void 0,o,z);for(H in o)z=o[H],B=s[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||qf(e,n,H,z,o,B);return}}for(var M in s)z=s[M],s.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Yt(e,n,M,null,o,z);for(Q in o)z=o[Q],B=s[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,n,Q,z,o,B)}var jf=null,Hf=null;function Hu(e){return e.nodeType===9?e:e.ownerDocument}function Ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function Z0(){var e=window.event;return e&&e.type==="popstate"?e===Ff?!1:(Ff=e,!0):(Ff=null,!1)}var by=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,Ry=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ry<"u"?function(e){return Ry.resolve(null).then(e).catch(tA)}:by;function tA(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function wy(e,n){var s=n,o=0,h=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<o&&8>o){s=o;var _=e.ownerDocument;if(s&1&&Yo(_.documentElement),s&2&&Yo(_.body),s&4)for(s=_.head,Yo(s),_=s.firstChild;_;){var E=_.nextSibling,b=_.nodeName;_[Fr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=E}}if(h===0){e.removeChild(f),nl(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:o=s.charCodeAt(0)-48;else o=0;s=f}while(s);nl(n)}function Qf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qf(s),Xi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function eA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Fr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function nA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function Kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function iA(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Yf=null;function Iy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function Cy(e,n,s){switch(n=Hu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xi(e)}var wn=new Map,Dy=new Set;function Gu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=tt.d;tt.d={f:rA,r:sA,D:aA,C:oA,L:lA,m:uA,X:hA,S:cA,M:fA};function rA(){var e=Ui.f(),n=Uu();return e||n}function sA(e){var n=qn(e);n!==null&&n.tag===5&&n.type==="form"?Xg(n):Ui.r(e)}var Aa=typeof document>"u"?null:document;function Oy(e,n,s){var o=Aa;if(o&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Dy.has(h)||(Dy.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),xe(n,"link",e),le(n),o.head.appendChild(n)))}}function aA(e){Ui.D(e),Oy("dns-prefetch",e,null)}function oA(e,n){Ui.C(e,n),Oy("preconnect",e,n)}function lA(e,n,s){Ui.L(e,n,s);var o=Aa;if(o&&e&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+me(s.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(n){case"style":f=Sa(e);break;case"script":f=ba(e)}wn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),wn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Xo(f))||n==="script"&&o.querySelector($o(f))||(n=o.createElement("link"),xe(n,"link",e),le(n),o.head.appendChild(n)))}}function uA(e,n){Ui.m(e,n);var s=Aa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ba(e)}if(!wn.has(f)&&(e=A({rel:"modulepreload",href:e},n),wn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($o(f)))return}o=s.createElement("link"),xe(o,"link",e),le(o),s.head.appendChild(o)}}}function cA(e,n,s){Ui.S(e,n,s);var o=Aa;if(o&&e){var h=Ye(o).hoistableStyles,f=Sa(e);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(Xo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=wn.get(f))&&Xf(e,s);var b=_=o.createElement("link");le(b),xe(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Fu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function hA(e,n){Ui.X(e,n);var s=Aa;if(s&&e){var o=Ye(s).hoistableScripts,h=ba(e),f=o.get(h);f||(f=s.querySelector($o(h)),f||(e=A({src:e,async:!0},n),(n=wn.get(h))&&$f(e,n),f=s.createElement("script"),le(f),xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fA(e,n){Ui.M(e,n);var s=Aa;if(s&&e){var o=Ye(s).hoistableScripts,h=ba(e),f=o.get(h);f||(f=s.querySelector($o(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=wn.get(h))&&$f(e,n),f=s.createElement("script"),le(f),xe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ny(e,n,s,o){var h=(h=yt.current)?Gu(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Sa(s.href),s=Ye(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Sa(s.href);var f=Ye(h).hoistableStyles,_=f.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=h.querySelector(Xo(e)))&&!f._p&&(_.instance=f,_.state.loading=5),wn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(e,s),f||dA(h,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ba(s),s=Ye(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Sa(e){return'href="'+me(e)+'"'}function Xo(e){return'link[rel="stylesheet"]['+e+"]"}function Vy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function dA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),xe(n,"link",s),le(n),e.head.appendChild(n))}function ba(e){return'[src="'+me(e)+'"]'}function $o(e){return"script[async]"+e}function My(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(s.href)+'"]');if(o)return n.instance=o,le(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),xe(o,"style",h),Fu(o,s.precedence,e),n.instance=o;case"stylesheet":h=Sa(s.href);var f=e.querySelector(Xo(h));if(f)return n.state.loading|=4,n.instance=f,le(f),f;o=Vy(s),(h=wn.get(h))&&Xf(o,h),f=(e.ownerDocument||e).createElement("link"),le(f);var _=f;return _._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),xe(f,"link",o),n.state.loading|=4,Fu(f,s.precedence,e),n.instance=f;case"script":return f=ba(s.src),(h=e.querySelector($o(f)))?(n.instance=h,le(h),h):(o=s,(h=wn.get(f))&&(o=A({},s),$f(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),xe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Fu(o,s.precedence,e));return n.instance}function Fu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Xf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Qu=null;function Py(e,n,s){if(Qu===null){var o=new Map,h=Qu=new Map;h.set(s,o)}else h=Qu,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Fr]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function Uy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ky(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zo=null;function gA(){}function pA(e,n,s){if(Zo===null)throw Error(a(475));var o=Zo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Sa(s.href),f=e.querySelector(Xo(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Ku.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,le(f);return}f=e.ownerDocument||e,s=Vy(s),(h=wn.get(h))&&Xf(s,h),f=f.createElement("link"),le(f);var _=f;_._p=new Promise(function(E,b){_.onload=E,_.onerror=b}),xe(f,"link",s),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Ku.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function yA(){if(Zo===null)throw Error(a(475));var e=Zo;return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yu=null;function Zf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yu=new Map,n.forEach(_A,e),Yu=null,Ku.call(e))}function _A(e,n){if(!(n.state.loading&4)){var s=Yu.get(e);if(s)var o=s.get(null);else{s=new Map,Yu.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||o,f===o&&s.set(null,h),s.set(_,h),this.count++,o=Ku.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Jo={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function vA(e,n,s,o,h,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function xy(e,n,s,o,h,f,_,E,b,L,H,Q){return e=new vA(e,n,s,_,E,b,L,Q),n=1,f===!0&&(n|=24),f=an(3,null,null,n),e.current=f,f.stateNode=e,n=Nh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Uh(f),e}function Ly(e){return e?(e=ea,e):ea}function zy(e,n,s,o,h,f){h=Ly(h),o.context===null?o.context=h:o.pendingContext=h,o=er(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=nr(e,o,n),s!==null&&(hn(s,e,n),Co(s,e,n))}function By(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Jf(e,n){By(e,n),(e=e.alternate)&&By(e,n)}function qy(e){if(e.tag===13){var n=ta(e,67108864);n!==null&&hn(n,e,67108864),Jf(e,67108864)}}var Xu=!0;function EA(e,n,s,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=2,Wf(e,n,s,o)}finally{tt.p=f,j.T=h}}function TA(e,n,s,o){var h=j.T;j.T=null;var f=tt.p;try{tt.p=8,Wf(e,n,s,o)}finally{tt.p=f,j.T=h}}function Wf(e,n,s,o){if(Xu){var h=td(o);if(h===null)Bf(e,n,o,$u,s),Hy(e,o);else if(SA(h,e,n,s,o))o.stopPropagation();else if(Hy(e,o),n&4&&-1<AA.indexOf(e)){for(;h!==null;){var f=qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Cn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var b=1<<31-qe(_);E.entanglements[1]|=b,_&=~b}ei(f),(Ht&6)===0&&(Mu=mn()+500,Fo(0))}}break;case 13:E=ta(f,2),E!==null&&hn(E,f,2),Uu(),Jf(f,2)}if(f=td(o),f===null&&Bf(e,n,o,$u,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Bf(e,n,o,null,s)}}function td(e){return e=yn(e),ed(e)}var $u=null;function ed(e){if($u=null,e=di(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $u=e,null}function jy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Xa:return 2;case Ms:return 8;case Br:case rh:return 32;case Ps:return 268435456;default:return 32}default:return 32}}var nd=!1,gr=null,pr=null,yr=null,Wo=new Map,tl=new Map,_r=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hy(e,n){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(n.pointerId)}}function el(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=qn(n),n!==null&&qy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function SA(e,n,s,o,h){switch(n){case"focusin":return gr=el(gr,e,n,s,o,h),!0;case"dragenter":return pr=el(pr,e,n,s,o,h),!0;case"mouseover":return yr=el(yr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Wo.set(f,el(Wo.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,tl.set(f,el(tl.get(f)||null,e,n,s,o,h)),!0}return!1}function Gy(e){var n=di(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Ul(e.priority,function(){if(s.tag===13){var o=cn();o=Qi(o);var h=ta(s,o);h!==null&&hn(h,s,o),Jf(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);yi=o,s.target.dispatchEvent(o),yi=null}else return n=qn(s),n!==null&&qy(n),e.blockedOn=s,!1;n.shift()}return!0}function Fy(e,n,s){Zu(e)&&s.delete(n)}function bA(){nd=!1,gr!==null&&Zu(gr)&&(gr=null),pr!==null&&Zu(pr)&&(pr=null),yr!==null&&Zu(yr)&&(yr=null),Wo.forEach(Fy),tl.forEach(Fy)}function Ju(e,n){e.blockedOn===n&&(e.blockedOn=null,nd||(nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bA)))}var Wu=null;function Qy(e){Wu!==e&&(Wu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wu===e&&(Wu=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(ed(o||s)===null)continue;break}var f=qn(s);f!==null&&(e.splice(n,3),n-=3,tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function nl(e){function n(b){return Ju(b,e)}gr!==null&&Ju(gr,e),pr!==null&&Ju(pr,e),yr!==null&&Ju(yr,e),Wo.forEach(n),tl.forEach(n);for(var s=0;s<_r.length;s++){var o=_r[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<_r.length&&(s=_r[0],s.blockedOn===null);)Gy(s),s.blockedOn===null&&_r.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],_=h[de]||null;if(typeof f=="function")_||Qy(s);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[de]||null)E=_.formAction;else if(ed(h)!==null)continue}else E=_.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),Qy(s)}}}function id(e){this._internalRoot=e}tc.prototype.render=id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=cn();zy(s,o,e,n,null,null)},tc.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;zy(e.current,2,null,e,null,null),Uu(),n[gn]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ki();e={blockedOn:null,target:e,priority:n};for(var s=0;s<_r.length&&n!==0&&n<_r[s].priority;s++);_r.splice(s,0,e),s===0&&Gy(e)}};var Ky=t.version;if(Ky!=="19.1.0")throw Error(a(527,Ky,"19.1.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var RA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{se=ec.inject(RA),jt=ec}catch{}}return rl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=up,f=cp,_=hp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=xy(e,1,!1,null,null,s,o,h,f,_,E,null),e[gn]=n.current,zf(e),new id(n)},rl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=up,_=cp,E=hp,b=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),n=xy(e,1,!0,n,s??null,o,h,f,_,E,b,L),n.context=Ly(null),s=n.current,o=cn(),o=Qi(o),h=er(o),h.callback=null,nr(s,h,o),s=o,n.current.lanes=s,fi(n,s),ei(n),e[gn]=n.current,zf(e),new tc(n)},rl.version="19.1.0",rl}var i_;function UA(){if(i_)return ad.exports;i_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ad.exports=PA(),ad.exports}var kA=UA();const xA=()=>{};var r_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},LA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,v=p?r[l+2]:0,A=c>>2,D=(c&3)<<4|g>>4;let x=(g&15)<<2|v>>6,G=v&63;p||(G=64,d||(x=64)),a.push(i[A],i[D],i[x],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Dv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):LA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const D=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||v==null||D==null)throw new zA;const x=c<<2|g>>4;if(a.push(x),v!==64){const G=g<<4&240|v>>2;if(a.push(G),D!==64){const J=v<<6&192|D;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(r){const t=Dv(r);return Ov.encodeByteArray(t,!0)},vc=function(r){return BA(r).replace(/\./g,"")},Nv=function(r){try{return Ov.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=()=>qA().__FIREBASE_DEFAULTS__,HA=()=>{if(typeof process>"u"||typeof r_>"u")return;const r=r_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Nv(r[1]);return t&&JSON.parse(t)},zc=()=>{try{return xA()||jA()||HA()||GA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Vv=r=>{var t,i;return(i=(t=zc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},FA=r=>{const t=Vv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Mv=()=>{var r;return(r=zc())===null||r===void 0?void 0:r.config},Pv=r=>{var t;return(t=zc())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vc(JSON.stringify(i)),vc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function XA(){var r;const t=(r=zc())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WA(){const r=Ke();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!XA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class Gi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=iS,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Gi(l,g,a)}}function rS(r,t){return r.replace(sS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const sS=/\{\$([^}]+)}/g;function aS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function bs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(s_(c)&&s_(d)){if(!bs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function s_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function oS(r,t){const i=new lS(r,t);return i.subscribe.bind(i)}class lS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");uS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=cd),l.error===void 0&&(l.error=cd),l.complete===void 0&&(l.complete=cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(r){return r&&r._delegate?r._delegate:r}class Rs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new QA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(fS(t))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Es){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Es){return this.instances.has(t)}getOptions(t=Es){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){var a;const l=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&t(d,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Es){return this.component?this.component.multipleInstances?t:Es:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hS(r){return r===Es?void 0:r}function fS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new cS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const mS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},gS=Ot.INFO,pS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},yS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=pS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yd{constructor(t){this.name=t,this._logLevel=gS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?mS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const _S=(r,t)=>t.some(i=>r instanceof i);let a_,o_;function vS(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ES(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,Ad=new WeakMap,kv=new WeakMap,hd=new WeakMap,Xd=new WeakMap;function TS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Rr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Uv.set(i,r)}).catch(()=>{}),Xd.set(t,r),t}function AS(r){if(Ad.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ad.set(r,t)}let Sd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ad.get(r);if(t==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Rr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function SS(r){Sd=r(Sd)}function bS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(fd(this),t,...i);return kv.set(a,t.sort?t.sort():[t]),Rr(a)}:ES().includes(r)?function(...t){return r.apply(fd(this),t),Rr(Uv.get(this))}:function(...t){return Rr(r.apply(fd(this),t))}}function RS(r){return typeof r=="function"?bS(r):(r instanceof IDBTransaction&&AS(r),_S(r,vS())?new Proxy(r,Sd):r)}function Rr(r){if(r instanceof IDBRequest)return TS(r);if(hd.has(r))return hd.get(r);const t=RS(r);return t!==r&&(hd.set(r,t),Xd.set(t,r)),t}const fd=r=>Xd.get(r);function wS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Rr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(Rr(d.result),p.oldVersion,p.newVersion,Rr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const IS=["get","getKey","getAll","getAllKeys","count"],CS=["put","add","delete","clear"],dd=new Map;function l_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(dd.get(t))return dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=CS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let v=p.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&p.done]))[0]};return dd.set(t,c),c}SS(r=>({...r,get:(t,i,a)=>l_(t,i)||r.get(t,i,a),has:(t,i)=>!!l_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bd="@firebase/app",u_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Yd("@firebase/app"),NS="@firebase/app-compat",VS="@firebase/analytics-compat",MS="@firebase/analytics",PS="@firebase/app-check-compat",US="@firebase/app-check",kS="@firebase/auth",xS="@firebase/auth-compat",LS="@firebase/database",zS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",jS="@firebase/functions-compat",HS="@firebase/installations",GS="@firebase/installations-compat",FS="@firebase/messaging",QS="@firebase/messaging-compat",KS="@firebase/performance",YS="@firebase/performance-compat",XS="@firebase/remote-config",$S="@firebase/remote-config-compat",ZS="@firebase/storage",JS="@firebase/storage-compat",WS="@firebase/firestore",tb="@firebase/vertexai",eb="@firebase/firestore-compat",nb="firebase",ib="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",rb={[bd]:"fire-core",[NS]:"fire-core-compat",[MS]:"fire-analytics",[VS]:"fire-analytics-compat",[US]:"fire-app-check",[PS]:"fire-app-check-compat",[kS]:"fire-auth",[xS]:"fire-auth-compat",[LS]:"fire-rtdb",[zS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[jS]:"fire-fn-compat",[HS]:"fire-iid",[GS]:"fire-iid-compat",[FS]:"fire-fcm",[QS]:"fire-fcm-compat",[KS]:"fire-perf",[YS]:"fire-perf-compat",[XS]:"fire-rc",[$S]:"fire-rc-compat",[ZS]:"fire-gcs",[JS]:"fire-gcs-compat",[WS]:"fire-fst",[eb]:"fire-fst-compat",[tb]:"fire-vertex","fire-js":"fire-js",[nb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,sb=new Map,wd=new Map;function c_(r,t){try{r.container.addComponent(t)}catch(i){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ma(r){const t=r.name;if(wd.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;wd.set(t,r);for(const i of Ec.values())c_(i,r);for(const i of sb.values())c_(i,r);return!0}function $d(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Al("app","Firebase",ab);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=ib;function xv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Rd,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw wr.create("bad-app-name",{appName:String(l)});if(i||(i=Mv()),!i)throw wr.create("no-options");const c=Ec.get(l);if(c){if(bs(i,c.options)&&bs(a,c.config))return c;throw wr.create("duplicate-app",{appName:l})}const d=new dS(l);for(const p of wd.values())d.addComponent(p);const g=new ob(i,a,d);return Ec.set(l,g),g}function Lv(r=Rd){const t=Ec.get(r);if(!t&&r===Rd&&Mv())return xv();if(!t)throw wr.create("no-app",{appName:r});return t}function Ir(r,t,i){var a;let l=(a=rb[r])!==null&&a!==void 0?a:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}Ma(new Rs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="firebase-heartbeat-database",ub=1,ml="firebase-heartbeat-store";let md=null;function zv(){return md||(md=wS(lb,ub,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ml)}catch(i){console.warn(i)}}}}).catch(r=>{throw wr.create("idb-open",{originalErrorMessage:r.message})})),md}async function cb(r){try{const i=(await zv()).transaction(ml),a=await i.objectStore(ml).get(Bv(r));return await i.done,a}catch(t){if(t instanceof Gi)Bi.warn(t.message);else{const i=wr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(i.message)}}}async function h_(r,t){try{const a=(await zv()).transaction(ml,"readwrite");await a.objectStore(ml).put(t,Bv(r)),await a.done}catch(i){if(i instanceof Gi)Bi.warn(i.message);else{const a=wr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(a.message)}}}function Bv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=1024,fb=30;class db{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=f_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>fb){const d=pb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Bi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=f_(),{heartbeatsToSend:a,unsentEntries:l}=mb(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function f_(){return new Date().toISOString().substring(0,10)}function mb(r,t=hb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),d_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),d_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class gb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await cb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function d_(r){return vc(JSON.stringify({version:2,heartbeats:r})).length}function pb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(r){Ma(new Rs("platform-logger",t=>new DS(t),"PRIVATE")),Ma(new Rs("heartbeat",t=>new db(t),"PRIVATE")),Ir(bd,u_,r),Ir(bd,u_,"esm2017"),Ir("fire-js","")}yb("");var _b="firebase",vb="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(_b,vb,"app");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cr,qv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(I,N,P){for(var w=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)w[fe-2]=arguments[fe];return S.prototype[N].apply(I,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,R){R||(R=0);var I=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)I[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;16>N;++N)I[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],N=V.g[2];var P=V.g[3],w=S+(P^R&(N^P))+I[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(N^S&(R^N))+I[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=N+(R^P&(S^R))+I[2]+606105819&4294967295,N=P+(w<<17&4294967295|w>>>15),w=R+(S^N&(P^S))+I[3]+3250441966&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(P^R&(N^P))+I[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(N^S&(R^N))+I[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=N+(R^P&(S^R))+I[6]+2821735955&4294967295,N=P+(w<<17&4294967295|w>>>15),w=R+(S^N&(P^S))+I[7]+4249261313&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(P^R&(N^P))+I[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(N^S&(R^N))+I[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=N+(R^P&(S^R))+I[10]+4294925233&4294967295,N=P+(w<<17&4294967295|w>>>15),w=R+(S^N&(P^S))+I[11]+2304563134&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(P^R&(N^P))+I[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(N^S&(R^N))+I[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=N+(R^P&(S^R))+I[14]+2792965006&4294967295,N=P+(w<<17&4294967295|w>>>15),w=R+(S^N&(P^S))+I[15]+1236535329&4294967295,R=N+(w<<22&4294967295|w>>>10),w=S+(N^P&(R^N))+I[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^N&(S^R))+I[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(P^S))+I[11]+643717713&4294967295,N=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(N^P))+I[0]+3921069994&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^P&(R^N))+I[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^N&(S^R))+I[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(P^S))+I[15]+3634488961&4294967295,N=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(N^P))+I[4]+3889429448&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^P&(R^N))+I[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^N&(S^R))+I[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(P^S))+I[3]+4107603335&4294967295,N=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(N^P))+I[8]+1163531501&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(N^P&(R^N))+I[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^N&(S^R))+I[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=N+(S^R&(P^S))+I[7]+1735328473&4294967295,N=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(N^P))+I[12]+2368359562&4294967295,R=N+(w<<20&4294967295|w>>>12),w=S+(R^N^P)+I[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^N)+I[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=N+(P^S^R)+I[11]+1839030562&4294967295,N=P+(w<<16&4294967295|w>>>16),w=R+(N^P^S)+I[14]+4259657740&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^P)+I[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^N)+I[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=N+(P^S^R)+I[7]+4139469664&4294967295,N=P+(w<<16&4294967295|w>>>16),w=R+(N^P^S)+I[10]+3200236656&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^P)+I[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^N)+I[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=N+(P^S^R)+I[3]+3572445317&4294967295,N=P+(w<<16&4294967295|w>>>16),w=R+(N^P^S)+I[6]+76029189&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(R^N^P)+I[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^N)+I[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=N+(P^S^R)+I[15]+530742520&4294967295,N=P+(w<<16&4294967295|w>>>16),w=R+(N^P^S)+I[2]+3299628645&4294967295,R=N+(w<<23&4294967295|w>>>9),w=S+(N^(R|~P))+I[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~N))+I[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=N+(S^(P|~R))+I[14]+2878612391&4294967295,N=P+(w<<15&4294967295|w>>>17),w=R+(P^(N|~S))+I[5]+4237533241&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~P))+I[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~N))+I[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=N+(S^(P|~R))+I[10]+4293915773&4294967295,N=P+(w<<15&4294967295|w>>>17),w=R+(P^(N|~S))+I[1]+2240044497&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~P))+I[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~N))+I[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=N+(S^(P|~R))+I[6]+2734768916&4294967295,N=P+(w<<15&4294967295|w>>>17),w=R+(P^(N|~S))+I[13]+1309151649&4294967295,R=N+(w<<21&4294967295|w>>>11),w=S+(N^(R|~P))+I[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~N))+I[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=N+(S^(P|~R))+I[2]+718787259&4294967295,N=P+(w<<15&4294967295|w>>>17),w=R+(P^(N|~S))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+P&4294967295}a.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,I=this.B,N=this.h,P=0;P<S;){if(N==0)for(;P<=R;)l(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<S;)if(I[N++]=V.charCodeAt(P++),N==this.blockSize){l(this,I),N=0;break}}else for(;P<S;)if(I[N++]=V[P++],N==this.blockSize){l(this,I),N=0;break}}this.h=N,this.o+=S},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var I=0;32>I;I+=8)V[R++]=this.g[S]>>>I&255;return V};function c(V,S){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function d(V,S){this.h=S;for(var R=[],I=!0,N=V.length-1;0<=N;N--){var P=V[N]|0;I&&P==S||(R[N]=P,I=!1)}this.g=R}var g={};function p(V){return-128<=V&&128>V?c(V,function(S){return new d([S|0],0>S?-1:0)}):new d([V|0],0>V?-1:0)}function v(V){if(isNaN(V)||!isFinite(V))return D;if(0>V)return $(v(-V));for(var S=[],R=1,I=0;V>=R;I++)S[I]=V/R|0,R*=4294967296;return new d(S,0)}function A(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return $(A(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),I=D,N=0;N<V.length;N+=8){var P=Math.min(8,V.length-N),w=parseInt(V.substring(N,N+P),S);8>P?(P=v(Math.pow(S,P)),I=I.j(P).add(v(w))):(I=I.j(R),I=I.add(v(w)))}return I}var D=p(0),x=p(1),G=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-$(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var I=this.i(R);V+=(0<=I?I:4294967296+I)*S,S*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(J(this))return"0";if(nt(this))return"-"+$(this).toString(V);for(var S=v(Math.pow(V,6)),R=this,I="";;){var N=Vt(R,S).g;R=Tt(R,N.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=N,J(R))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function J(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function nt(V){return V.h==-1}r.l=function(V){return V=Tt(this,V),nt(V)?-1:J(V)?0:1};function $(V){for(var S=V.g.length,R=[],I=0;I<S;I++)R[I]=~V.g[I];return new d(R,~V.h).add(x)}r.abs=function(){return nt(this)?$(this):this},r.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],I=0,N=0;N<=S;N++){var P=I+(this.i(N)&65535)+(V.i(N)&65535),w=(P>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);I=w>>>16,P&=65535,w&=65535,R[N]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(V,S){return V.add($(S))}r.j=function(V){if(J(this)||J(V))return D;if(nt(this))return nt(V)?$(this).j($(V)):$($(this).j(V));if(nt(V))return $(this.j($(V)));if(0>this.l(G)&&0>V.l(G))return v(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],I=0;I<2*S;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<V.g.length;N++){var P=this.i(I)>>>16,w=this.i(I)&65535,fe=V.i(N)>>>16,re=V.i(N)&65535;R[2*I+2*N]+=w*re,_t(R,2*I+2*N),R[2*I+2*N+1]+=P*re,_t(R,2*I+2*N+1),R[2*I+2*N+1]+=w*fe,_t(R,2*I+2*N+1),R[2*I+2*N+2]+=P*fe,_t(R,2*I+2*N+2)}for(I=0;I<S;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=S;I<2*S;I++)R[I]=0;return new d(R,0)};function _t(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ct(V,S){this.g=V,this.h=S}function Vt(V,S){if(J(S))throw Error("division by zero");if(J(V))return new ct(D,D);if(nt(V))return S=Vt($(V),S),new ct($(S.g),$(S.h));if(nt(S))return S=Vt(V,$(S)),new ct($(S.g),S.h);if(30<V.g.length){if(nt(V)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,I=S;0>=I.l(V);)R=gt(R),I=gt(I);var N=It(R,1),P=It(I,1);for(I=It(I,2),R=It(R,2);!J(I);){var w=P.add(I);0>=w.l(V)&&(N=N.add(R),P=w),I=It(I,1),R=It(R,1)}return S=Tt(V,N.j(S)),new ct(N,S)}for(N=D;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=v(R),w=P.j(S);nt(w)||0<w.l(V);)R-=I,P=v(R),w=P.j(S);J(P)&&(P=x),N=N.add(P),V=Tt(V,w)}return new ct(N,V)}r.A=function(V){return Vt(this,V).h},r.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)&V.i(I);return new d(R,this.h&V.h)},r.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)|V.i(I);return new d(R,this.h|V.h)},r.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],I=0;I<S;I++)R[I]=this.i(I)^V.i(I);return new d(R,this.h^V.h)};function gt(V){for(var S=V.g.length+1,R=[],I=0;I<S;I++)R[I]=V.i(I)<<1|V.i(I-1)>>>31;return new d(R,V.h)}function It(V,S){var R=S>>5;S%=32;for(var I=V.g.length-R,N=[],P=0;P<I;P++)N[P]=0<S?V.i(P+R)>>>S|V.i(P+R+1)<<32-S:V.i(P+R);return new d(N,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,qv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Cr=d}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jv,sl,Hv,uc,Id,Gv,Fv,Qv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in y))break t;y=y[U]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,T=!1,U={next:function(){if(!T&&y<u.length){var q=y++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,y){return u.call.apply(u.bind,arguments)}function D(u,m,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function x(u,m,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,x.apply(null,arguments)}function G(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function J(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[U].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(p(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let W=0;W<q;W++)u[U+W]=T[W]}else u.push(T)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _t(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var gt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function It(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function V(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let y,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(y in T)u[y]=T[y];for(let q=0;q<R.length;q++)y=R[q],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function N(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,y){const T=re.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new Tt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,Lt=new fe,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){P(y)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var lt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function Rt(u,m){if(Z.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(gt){t:{try{Vt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}J(Rt,Z);var yt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function zn(u,m,y,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,y,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Lr(u,m,T,U);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new zn(m,this.src,q,!!T,U),m.fa=y,u.push(m)),m};function xr(u,m){var y=m.type;if(y in u.g){var T=u.g[y],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Fi(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Lr(u,m,y,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==T)return U}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Ya={};function Vl(u,m,y,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Vl(u,m[q],y,T,U);return null}return y=Ml(y),u&&u[we]?u.K(m,y,v(T)?!!T.capture:!1,U):mn(u,m,y,!1,T,U)}function mn(u,m,y,T,U,q){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Mt=Ps(u);if(Mt||(u[zr]=Mt=new ci(u)),y=Mt.add(m,y,T,W,q),y.proxy)return y;if(T=ih(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)lt||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Br(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ih(){function u(y){return m.call(u.src,u.listener,y)}const m=rh;return u}function Xa(u,m,y,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Xa(u,m[q],y,T,U);else T=v(T)?!!T.capture:!!T,y=Ml(y),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],y=Lr(q,y,T,U),-1<y&&(Fi(q[y]),Array.prototype.splice.call(q,y,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ps(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Lr(m,y,T,U)),(y=-1<u?m[u]:null)&&Ms(y))}function Ms(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])xr(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Br(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=Ps(m))?(xr(y,u),y.h==0&&(y.src=null,m[zr]=null)):Fi(u)}}}function Br(u){return u in Ya?Ya[u]:Ya[u]="on"+u}function rh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var y=u.listener,T=u.ha||u.src;u.fa&&Ms(u),u=y.call(T,m)}return u}function Ps(u){return u=u[zr],u instanceof ci?u:null}var $a="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ml(u){return typeof u=="function"?u:(u[$a]||(u[$a]=function(m){return u.handleEvent(m)}),u[$a])}function se(){et.call(this),this.i=new ci(this),this.M=this,this.F=null}J(se,et),se.prototype[we]=!0,se.prototype.removeEventListener=function(u,m,y,T){Xa(this,u,m,y,T)};function jt(u,m){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new Z(m,u);else if(m instanceof Z)m.target=m.target||u;else{var U=m;m=new Z(T,u),I(m,U)}if(U=!0,y)for(var q=y.length-1;0<=q;q--){var W=m.g=y[q];U=nn(W,T,!0,m)&&U}if(W=m.g=u,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,y)for(q=0;q<y.length;q++)W=m.g=y[q],U=nn(W,T,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],T=0;T<y.length;T++)Fi(y[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},se.prototype.L=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nn(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==y){var Mt=W.listener,ve=W.ha||W.src;W.fa&&xr(u.i,W),U=Mt.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function qe(u,m,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Pl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Pl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class sh extends et{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(u){et.call(this),this.h=u,this.g={}}J(qr,et);var jr=[];function Hr(u){It(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ms(m)},u),u.g={}}qr.prototype.N=function(){qr.aa.N.call(this),Hr(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Us=g.JSON.parse,Gr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Za(){}Za.prototype.h=null;function Ja(u){return u.h||(u.h=u.i())}function Wa(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){Z.call(this,"d")}J(fi,Z);function to(){Z.call(this,"c")}J(to,Z);var Bn={},eo=null;function Qi(){return eo=eo||new se}Bn.La="serverreachability";function ks(u){Z.call(this,Bn.La,u)}J(ks,Z);function Ki(u){const m=Qi();jt(m,new ks(m))}Bn.STAT_EVENT="statevent";function Ul(u,m){Z.call(this,Bn.STAT_EVENT,u),this.stat=m}J(Ul,Z);function Wt(u){const m=Qi();jt(m,new Ul(m,u))}Bn.Ma="timingevent";function _e(u,m){Z.call(this,Bn.Ma,u),this.size=m}J(_e,Z);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function no(u,m,y,T,U,q){u.info(function(){if(u.g)if(q)for(var W="",Mt=q.split("&"),ve=0;ve<Mt.length;ve++){var Pt=Mt[ve].split("=");if(1<Pt.length){var Ce=Pt[0];Pt=Pt[1];var Ee=Ce.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(Ce+"="+Pt+"&"):W+(Ce+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+y+`
`+W})}function ah(u,m,y,T,U,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+y+`
`+q+" "+W})}function Yi(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fr(u,y)+(T?" "+T:"")})}function kl(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Fr(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Cn(y)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}J(jn,Za),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Ye(u,m,y,T){this.j=u,this.i=m,this.l=y,this.R=T||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var io={},xs={};function Dn(u,m,y){u.L=1,u.v=$r(rn(m)),u.m=y,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Qr(u),u.A=rn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),uo(y.i,"t",T),u.C=0,y=u.j.J,u.h=new le,u.g=Jl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new sh(x(u.Y,u,u.g),u.O)),m=u.U,y=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(jr[0]=U.toString()),U=jr);for(var q=0;q<U.length;q++){var W=Vl(y,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),no(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ai?Ki(3):Ki(2)),$i(this);var y=this.g.Z();this.X=y;e:if(xl(this)){var T=Gl(this.g);u="";var U=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Hn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,ah(this.i,this.u,this.A,this.l,this.R,Ee,y),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,ve=this.g;if((Mt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Mt)){var Pt=Mt;break e}}Pt=null}if(y=Pt)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,y);else{this.o=!1,this.s=3,Wt(12),Me(this),Hn(this);break t}}if(this.P){y=!0;let Pe;for(;!this.J&&this.C<W.length;)if(Pe=Ll(this,W),Pe==xs){Ee==4&&(this.s=4,Wt(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==io){this.s=4,Wt(15),Yi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,Pe,null),Kr(this,Pe);if(xl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Hn(this);else if(0<W.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),rs(Ce),Ce.M=!0,Wt(11))}}else Yi(this.i,this.l,W,null),Kr(this,W);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?Xl(this.j,this):(this.o=!1,Qr(this)))}else hh(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),Hn(this)}}}catch{}finally{}};function xl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ll(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?xs:(y=Number(m.substring(y,T)),isNaN(y)?io:(T+=1,T+y>m.length?xs:(m=m.slice(T,T+y),u.C=T+y,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Qr(u){u.S=Date.now()+u.I,zl(u,u.I)}function zl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(x(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(kl(this.i,this.A),this.L!=2&&(Ki(),Wt(17)),Me(this),this.s=2,Hn(this)):zl(this,this.S-u)};function Hn(u){u.j.G==0||u.J||Xl(u.j,u)}function Me(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Hr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Kr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||ro(y.h,u))){if(!u.K&&ro(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Xs(y),Ks(y);else break t;go(y),Wt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=de(x(y.Za,y),6e3));if(1>=zs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ti(y,11)}else if((u.K||y.g==u)&&Xs(y),!_t(m))for(U=y.Da.g.parse(m),m=0;m<U.length;m++){let Pt=U[m];if(y.T=Pt[0],Pt=Pt[1],y.G==2)if(Pt[0]=="c"){y.K=Pt[1],y.ia=Pt[2];const Ce=Pt[3];Ce!=null&&(y.la=Ce,y.j.info("VER="+y.la));const Ee=Pt[4];Ee!=null&&(y.Aa=Ee,y.j.info("SVER="+y.Aa));const Ai=Pt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(T=1.5*Ai,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Pe=u.g;if(Pe){const $n=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=T.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Bs(q,q.h),q.h=null))}if(T.D){const yo=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(T.ya=yo,Qt(T.I,T.D,yo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var W=u;if(T.qa=Zl(T,T.J?T.ia:null,T.W),W.K){Xe(T.h,W);var Mt=W,ve=T.L;ve&&(Mt.I=ve),Mt.B&&($i(Mt),Qr(Mt)),T.g=W}else Kl(T);0<y.i.length&&Ys(y)}else Pt[0]!="stop"&&Pt[0]!="close"||Ti(y,7);else y.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ti(y,7):fo(y):Pt[0]!="noop"&&y.l&&y.l.ta(Pt),y.v=0)}}Ki(4)}catch{}}var Bl=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zs(u){return u.h?1:u.g?u.g.size:0}function ro(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Bs(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function so(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return nt(u.i)}function oh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,T=0;T<y;T++)m.push(u[T]);return m}m=[],y=0;for(T in u)m[y++]=u[T];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const T in u)m[y++]=T;return m}}}function ao(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=qs(u),T=oh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],y&&y[q],u)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),U=null;if(0<=T){var q=u[y].substring(0,T);U=u[y].substring(T+1)}else q=u[y];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Xr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,y=new yi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),pi(this,y),this.m=u.m}else u&&(m=String(u).match(Yr))?(this.h=!1,Xr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Zi(this,m[4]),this.l=pn(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zr(m,oo,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zr(m,oo,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Zr(y,y.charAt(0)=="/"?uh:lo,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Zr(y,js)),u.join("")};function rn(u){return new me(u)}function Xr(u,m,y){u.j=y?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,y){m instanceof yi?(u.i=m,jl(u.i,u.h)):(y||(m=Zr(m,ch)),u.i=new yi(m,u.h))}function Qt(u,m,y){u.i.set(m,y)}function $r(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,ql),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ql(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oo=/[#\/\?@]/g,lo=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,js=/#/g;function yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=yi.prototype,r.add=function(u,m){yn(this),this.i=null,u=Gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function _i(u,m){yn(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return yn(u),m=Gn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(y,T){y.forEach(function(U){u.call(m,U,T,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)y.push(m[T])}return y},r.V=function(u){yn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return yn(this),this.i=null,u=Gn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function uo(u,m,y){_i(u,m),0<y.length&&(u.i=null,u.g.set(Gn(u,m),nt(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var T=m[y];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=q;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jl(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(y,T){var U=T.toLowerCase();T!=U&&(_i(this,T),uo(this,U,y))},u)),u.j=m}function Jr(u,m){const y=new gn;if(g.Image){const T=new Image;T.onload=G(_n,y,"TestLoadImage: loaded",!0,m,T),T.onerror=G(_n,y,"TestLoadImage: error",!1,m,T),T.onabort=G(_n,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(_n,y,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const y=new gn,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?_n(y,"TestPingServer: ok",!0,m):_n(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(y,"TestPingServer: error",!1,m)})}function _n(u,m,y,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(y)}catch{}}function Wr(){this.g=new Gr}function Fn(u,m,y){const T=y||"";try{ao(u,function(U,q){let W=U;v(U)&&(W=Cn(U)),m.push(T+q+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Ji(u){this.l=u.Ub||null,this.j=u.eb||!1}J(Ji,Za),Ji.prototype.g=function(){return new Ei(this.l,this.j)},Ji.prototype.i=function(u){return function(){return u}}({});function Ei(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Ei,se),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;co(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function co(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&co(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ho(u){let m="";return It(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function Ie(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=ho(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Qt(u,m,y))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(Bt,se);var Hs=/^https?$/i,ts=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Ja(this.o):Ja(qn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Hl(this,q);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)y.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())y.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ts,m,void 0))||T||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of y)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Hl(this,q)}};function Hl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Gs(u),Yn(u)}function Gs(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,jt(this,"complete"),jt(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Fs(this):this.bb())},r.bb=function(){Fs(this)};function Fs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)qe(u.Ea,0,u);else if(jt(u,"readystatechange"),vn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=W===0){var U=String(u.D).match(Yr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Hs.test(U?U.toLowerCase():"")}y=T}if(y)jt(u,"complete"),jt(u,"success");else{u.m=6;try{var q=2<vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Gs(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){es(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||jt(u,"ready");try{y.onreadystatechange=T}catch{}}}function es(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Us(m)}};function Gl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_t(u[T]))continue;var y=N(u[T]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[U]||[];m[U]=q,q.push(y)}V(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ns(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Qs(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ns("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ns("baseRetryDelayMs",5e3,u),this.cb=ns("retryDelaySeedMs",1e4,u),this.Wa=ns("forwardChannelMaxRetries",2,u),this.wa=ns("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new Wr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qs.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,T){Wt(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=Zl(this,null,this.W),Ys(this)};function fo(u){if(Fl(u),u.G==3){var m=u.U++,y=rn(u.I);if(Qt(y,"SID",u.K),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),is(u,y),m=new Ye(u,u.j,m),m.L=2,m.v=$r(rn(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qr(m)}$l(u)}function Ks(u){u.g&&(rs(u),u.g.cancel(),u.g=null)}function Fl(u){Ks(u),u.u&&(g.clearTimeout(u.u),u.u=null),Xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ys(u){if(!Ls(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),ot||(tt(),ot=!0),Lt.add(m,u),u.B=0}}function fh(u,m){return zs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(x(u.Ga,u,m),po(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Ql(this,U,m),y=rn(this.I),Qt(y,"RID",u),Qt(y,"CVER",22),this.D&&Qt(y,"X-HTTP-Session-Id",this.D),is(this,y),q&&(this.O?m="headers="+encodeURIComponent(String(ho(q)))+"&"+m:this.m&&Ie(y,this.m,q)),Bs(this.h,U),this.Ua&&Qt(y,"TYPE","init"),this.P?(Qt(y,"$req",m),Qt(y,"SID","null"),U.T=!0,Dn(U,y,null)):Dn(U,y,m),this.G=2}}else this.G==3&&(u?mo(this,u):this.i.length==0||Ls(this.h)||mo(this))};function mo(u,m){var y;m?y=m.l:y=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",y),Qt(T,"AID",u.T),is(u,T),u.m&&u.o&&Ie(T,u.m,u.o),y=new Ye(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ql(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Bs(u.h,y),Dn(y,T,m)}function is(u,m){u.H&&It(u.H,function(y,T){Qt(m,T,y)}),u.l&&ao({},function(y,T){Qt(m,T,y)})}function Ql(u,m,y){y=Math.min(u.i.length,y);var T=u.l?x(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const W=["count="+y];q==-1?0<y?(q=U[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Mt=!0;for(let ve=0;ve<y;ve++){let Pt=U[ve].g;const Ce=U[ve].map;if(Pt-=q,0>Pt)q=Math.max(0,U[ve].g-100),Mt=!1;else try{Fn(Ce,W,"req"+Pt+"_")}catch{T&&T(Ce)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,T}function Kl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),ot||(tt(),ot=!0),Lt.add(m,u),u.v=0}}function go(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(x(u.Fa,u),po(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Ks(this),Yl(this))};function rs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Yl(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),is(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=$r(rn(m)),y.m=null,y.P=!0,mi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,Ks(this),go(this),Wt(19))};function Xs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Xl(u,m){var y=null;if(u.g==m){Xs(u),rs(u),u.g=null;var T=2}else if(ro(u.h,m))y=m.D,Xe(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Qi(),jt(T,new _e(T,y)),Ys(u)}else Kl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&fh(u,m)||T==2&&go(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function po(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var y=x(u.fb,u),T=u.Xa;const U=!T;T=new me(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xr(T,"https"),$r(T),U?Jr(T.toString(),y):On(T.toString(),y)}else Wt(2);u.G=0,u.l&&u.l.sa(m),$l(u),Fl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=so(u.h);(m.length!=0||u.i.length!=0)&&($(u.ka,m),$(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,y){var T=y instanceof me?rn(y):new me(y);if(T.g!="")m&&(T.g=m+"."+T.g),Zi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new me(null);T&&Xr(q,T),m&&(q.g=m),U&&Zi(q,U),y&&(q.l=y),T=q}return y=u.D,m=u.ya,y&&m&&Qt(T,y,m),Qt(T,"VER",u.la),is(u,T),T}function Jl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Ji({eb:y})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}r=Wl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function $s(){}$s.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Qs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!_t(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_t(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}J($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){fo(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cn(u),u=y);m.i.push(new Bl(m.Ya++,u)),m.G==3&&Ys(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,$e.aa.N.call(this)};function tu(u){fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}J(tu,fi);function eu(){to.call(this),this.status=1}J(eu,to);function Xn(u){this.g=u}J(Xn,Wl),Xn.prototype.ua=function(){jt(this.g,"a")},Xn.prototype.ta=function(u){jt(this.g,new tu(u))},Xn.prototype.sa=function(u){jt(this.g,new eu)},Xn.prototype.ra=function(){jt(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Qv=function(){return new $s},Fv=function(){return Qi()},Gv=Bn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,uc=Xi,di.COMPLETE="complete",Hv=di,Wa.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",se.prototype.listen=se.prototype.K,sl=Wa,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,jv=Bt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",p_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Yd("@firebase/firestore");function Ra(){return ws.logLevel}function it(r,...t){if(ws.logLevel<=Ot.DEBUG){const i=t.map(Zd);ws.debug(`Firestore (${Ha}): ${r}`,...i)}}function qi(r,...t){if(ws.logLevel<=Ot.ERROR){const i=t.map(Zd);ws.error(`Firestore (${Ha}): ${r}`,...i)}}function Pa(r,...t){if(ws.logLevel<=Ot.WARN){const i=t.map(Zd);ws.warn(`Firestore (${Ha}): ${r}`,...i)}}function Zd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Kv(r,a,i)}function Kv(r,t,i){let a=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw qi(a),new Error(a)}function qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Kv(t,l,a)}function Et(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Gi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class Tb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ab{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zi,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zi)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new Yv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Fe(t)}}class Sb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class bb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Sb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=wb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function bt(r,t){return r<t?-1:r>t?1:0}function Cd(r,t){let i=0;for(;i<r.length&&i<t.length;){const a=r.codePointAt(i),l=t.codePointAt(i);if(a!==l){if(a<128&&l<128)return bt(a,l);{const c=Xv(),d=Ib(c.encode(__(r,i)),c.encode(__(t,i)));return d!==0?d:bt(a,l)}}i+=a>65535?2:1}return bt(r.length,t.length)}function __(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Ib(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return bt(r[i],t[i]);return bt(r.length,t.length)}function Ua(r,t,i){return r.length===t.length&&r.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,E_=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*E_);return new be(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<v_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/E_}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-v_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new be(0,0))}static max(){return new vt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__name__";class ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&dt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=ni.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return bt(t.length,i.length)}static compareSegments(t,i){const a=ni.isNumericId(t),l=ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ni.extractNumericId(t).compare(ni.extractNumericId(i)):Cd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Cr.fromString(t.substring(4,t.length-2))}}class ee extends ni{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new ee(i)}static emptyPath(){return new ee([])}}const Cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends ni{construct(t,i,a){return new ze(t,i,a)}static isValidIdentifier(t){return Cb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new ze([T_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ee.fromString(t))}static fromName(t){return new ut(ee.fromString(t).popFirst(5))}static empty(){return new ut(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ee(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=-1;function Db(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new be(i+1,0):new be(i,a));return new Or(l,ut.empty(),t)}function Ob(r){return new Or(r.readTime,r.key,gl)}class Or{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Or(vt.min(),ut.empty(),gl)}static max(){return new Or(vt.max(),ut.empty(),gl)}}function Nb(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(r.documentKey,t.documentKey),i!==0?i:bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==Vb)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>a(p))}),d=!0,c===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,c)=>{a.push(i.call(this,l,c))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const v=p;i(t[v]).next(A=>{d[v]=A,++g,g===c&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const c=()=>{t()===!0?i().next(()=>{c()},l):a()};c()})}}function Pb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Bc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=-1;function qc(r){return r==null}function Tc(r){return r===0&&1/r==-1/0}function Ub(r){return typeof r=="number"&&Number.isInteger(r)&&!Tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="";function kb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=A_(t)),t=xb(r.get(i),t);return A_(t)}function xb(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Zv:i+="";break;default:i+=c}}return i}function A_(r){return r+Zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ds(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Jv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||Le.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Le.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Le{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Le.RED,this.left=l??Le.EMPTY,this.right=c??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Le(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Le.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Le(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(t){return new b_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class b_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(ze.comparator)}static empty(){return new kn([])}unionWith(t){let i=new Re(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wv("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const Lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=Lb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="server_timestamp",eE="__type__",nE="__previous_value__",iE="__local_write_time__";function Wd(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[eE])===null||i===void 0?void 0:i.stringValue)===tE}function jc(r){const t=r.mapValue.fields[nE];return Wd(t)?jc(t):t}function pl(r){const t=Nr(r.mapValue.fields[iE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(t,i,a,l,c,d,g,p,v){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=v}}const Ac="(default)";class yl{constructor(t,i){this.projectId=t,this.database=i||Ac}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(t){return t instanceof yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="__type__",Bb="__max__",rc={mapValue:{}},sE="__vector__",Sc="value";function Mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wd(r)?4:jb(r)?9007199254740991:qb(r)?10:11:dt(28295,{value:r})}function oi(r,t){if(r===t)return!0;const i=Mr(r);if(i!==Mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return pl(r).isEqual(pl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Nr(l.timestampValue),g=Nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Vr(l.bytesValue).isEqual(Vr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return he(l.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(l.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return he(l.integerValue)===he(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=he(l.doubleValue),g=he(c.doubleValue);return d===g?Tc(d)===Tc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ua(r.arrayValue.values||[],t.arrayValue.values||[],oi);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(S_(d)!==S_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!oi(d[p],g[p])))return!1;return!0}(r,t);default:return dt(52216,{left:r})}}function _l(r,t){return(r.values||[]).find(i=>oi(i,t))!==void 0}function ka(r,t){if(r===t)return 0;const i=Mr(r),a=Mr(t);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return R_(r.timestampValue,t.timestampValue);case 4:return R_(pl(r),pl(t));case 5:return Cd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Vr(c),p=Vr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let v=0;v<g.length&&v<p.length;v++){const A=bt(g[v],p[v]);if(A!==0)return A}return bt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=bt(he(c.latitude),he(d.latitude));return g!==0?g:bt(he(c.longitude),he(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return w_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var g,p,v,A;const D=c.fields||{},x=d.fields||{},G=(g=D[Sc])===null||g===void 0?void 0:g.arrayValue,J=(p=x[Sc])===null||p===void 0?void 0:p.arrayValue,nt=bt(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((A=J==null?void 0:J.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:w_(G,J)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===rc.mapValue&&d===rc.mapValue)return 0;if(c===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),v=d.fields||{},A=Object.keys(v);p.sort(),A.sort();for(let D=0;D<p.length&&D<A.length;++D){const x=Cd(p[D],A[D]);if(x!==0)return x;const G=ka(g[p[D]],v[A[D]]);if(G!==0)return G}return bt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw dt(23264,{Pe:i})}}function R_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return bt(r,t);const i=Nr(r),a=Nr(t),l=bt(i.seconds,a.seconds);return l!==0?l:bt(i.nanos,a.nanos)}function w_(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ka(i[l],a[l]);if(c)return c}return bt(i.length,a.length)}function xa(r){return Dd(r)}function Dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Nr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Vr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ut.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Dd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Dd(i.fields[d])}`;return l+"}"}(r.mapValue):dt(61005,{value:r})}function cc(r){switch(Mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jc(r);return t?16+cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,c)=>l+cc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let l=0;return Ds(a.fields,(c,d)=>{l+=c.length+cc(d)}),l}(r.mapValue);default:throw dt(13486,{value:r})}}function Od(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function I_(r){return!!r&&"nullValue"in r}function C_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hc(r){return!!r&&"mapValue"in r}function qb(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[rE])===null||i===void 0?void 0:i.stringValue)===sE}function ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ds(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=ul(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ul(r.arrayValue.values[i]);return t}return Object.assign({},r)}function jb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Bb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.value=t}static empty(){return new In({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ul(i)}setAll(t){let i=ze.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=ul(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ds(i,(l,c)=>t[l]=c);for(const l of a)delete t[l]}clone(){return new In(ul(this.value))}}function aE(r){const t=[];return Ds(r.fields,(i,a)=>{const l=new ze([i]);if(hc(a)){const c=aE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,vt.min(),vt.min(),vt.min(),In.empty(),0)}static newFoundDocument(t,i,a,l){return new Qe(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Qe(t,2,i,vt.min(),vt.min(),In.empty(),0)}static newUnknownDocument(t,i){return new Qe(t,3,i,vt.min(),vt.min(),In.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i){this.position=t,this.inclusive=i}}function D_(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=ka(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function O_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!oi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Hb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{}class Se extends oE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fb(t,i,a):i==="array-contains"?new Yb(t,a):i==="in"?new Xb(t,a):i==="not-in"?new $b(t,a):i==="array-contains-any"?new Zb(t,a):new Se(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Qb(t,a):new Kb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ka(i,this.value)):i!==null&&Mr(this.value)===Mr(i)&&this.matchesComparison(ka(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends oE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new li(t,i)}matches(t){return lE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function lE(r){return r.op==="and"}function uE(r){return Gb(r)&&lE(r)}function Gb(r){for(const t of r.filters)if(t instanceof li)return!1;return!0}function Nd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+xa(r.value);if(uE(r))return r.filters.map(t=>Nd(t)).join(",");{const t=r.filters.map(i=>Nd(i)).join(",");return`${r.op}(${t})`}}function cE(r,t){return r instanceof Se?function(a,l){return l instanceof Se&&a.op===l.op&&a.field.isEqual(l.field)&&oi(a.value,l.value)}(r,t):r instanceof li?function(a,l){return l instanceof li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((c,d,g)=>c&&cE(d,l.filters[g]),!0):!1}(r,t):void dt(19439)}function hE(r){return r instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${xa(i.value)}`}(r):r instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(hE).join(" ,")+"}"}(r):"Filter"}class Fb extends Se{constructor(t,i,a){super(t,i,a),this.key=ut.fromName(a.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class Qb extends Se{constructor(t,i){super(t,"in",i),this.keys=fE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Kb extends Se{constructor(t,i){super(t,"not-in",i),this.keys=fE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function fE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class Yb extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return tm(i)&&_l(i.arrayValue,this.value)}}class Xb extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&_l(this.value.arrayValue,i)}}class $b extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(_l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_l(this.value.arrayValue,i)}}class Zb extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>_l(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function N_(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Jb(r,t,i,a,l,c,d)}function em(r){const t=Et(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>Nd(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),qc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>xa(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>xa(a)).join(",")),t.Ie=i}return t.Ie}function nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Hb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!cE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!O_(r.startAt,t.startAt)&&O_(r.endAt,t.endAt)}function Vd(r){return ut.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Wb(r,t,i,a,l,c,d,g){return new Hc(r,t,i,a,l,c,d,g)}function im(r){return new Hc(r)}function V_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tR(r){return r.collectionGroup!==null}function cl(r){const t=Et(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new Rc(c,a))}),i.has(ze.keyField().canonicalString())||t.Ee.push(new Rc(ze.keyField(),a))}return t.Ee}function ii(r){const t=Et(r);return t.de||(t.de=eR(t,cl(r))),t.de}function eR(r,t){if(r.limitType==="F")return N_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Rc(l.field,c)});const i=r.endAt?new bc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new bc(r.startAt.position,r.startAt.inclusive):null;return N_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Md(r,t,i){return new Hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Gc(r,t){return nm(ii(r),ii(t))&&r.limitType===t.limitType}function dE(r){return`${em(ii(r))}|lt:${r.limitType}`}function wa(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>hE(l)).join(", ")}]`),qc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>xa(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>xa(l)).join(",")),`Target(${a})`}(ii(r))}; limitType=${r.limitType})`}function Fc(r,t){return t.isFoundDocument()&&function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ut.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,l){for(const c of cl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(a,l){return!(a.startAt&&!function(d,g,p){const v=D_(d,g,p);return d.inclusive?v<=0:v<0}(a.startAt,cl(a),l)||a.endAt&&!function(d,g,p){const v=D_(d,g,p);return d.inclusive?v>=0:v>0}(a.endAt,cl(a),l))}(r,t)}function nR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mE(r){return(t,i)=>{let a=!1;for(const l of cl(r)){const c=iR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function iR(r,t,i){const a=r.field.isKeyField()?ut.comparator(t.key,i.key):function(c,d,g){const p=d.data.field(c),v=g.data.field(c);return p!==null&&v!==null?ka(p,v):dt(42886)}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ds(this.inner,(i,a)=>{for(const[l,c]of a)t(l,c)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new ie(ut.comparator);function ji(){return rR}const gE=new ie(ut.comparator);function al(...r){let t=gE;for(const i of r)t=t.insert(i.key,i);return t}function pE(r){let t=gE;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Ts(){return hl()}function yE(){return hl()}function hl(){return new Os(r=>r.toString(),(r,t)=>r.isEqual(t))}const sR=new ie(ut.comparator),aR=new Re(ut.comparator);function Nt(...r){let t=aR;for(const i of r)t=t.add(i);return t}const oR=new Re(bt);function lR(){return oR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function _E(r){return{integerValue:""+r}}function uR(r,t){return Ub(t)?_E(t):rm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function cR(r,t,i){return r instanceof wc?function(l,c){const d={fields:{[eE]:{stringValue:tE},[iE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Wd(c)&&(c=jc(c)),c&&(d.fields[nE]=c),{mapValue:d}}(i,t):r instanceof vl?EE(r,t):r instanceof El?TE(r,t):function(l,c){const d=vE(l,c),g=M_(d)+M_(l.Re);return Od(d)&&Od(l.Re)?_E(g):rm(l.serializer,g)}(r,t)}function hR(r,t,i){return r instanceof vl?EE(r,t):r instanceof El?TE(r,t):i}function vE(r,t){return r instanceof Ic?function(a){return Od(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class wc extends Qc{}class vl extends Qc{constructor(t){super(),this.elements=t}}function EE(r,t){const i=AE(t);for(const a of r.elements)i.some(l=>oi(l,a))||i.push(a);return{arrayValue:{values:i}}}class El extends Qc{constructor(t){super(),this.elements=t}}function TE(r,t){let i=AE(t);for(const a of r.elements)i=i.filter(l=>!oi(l,a));return{arrayValue:{values:i}}}class Ic extends Qc{constructor(t,i){super(),this.serializer=t,this.Re=i}}function M_(r){return he(r.integerValue||r.doubleValue)}function AE(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fR(r,t){return r.field.isEqual(t.field)&&function(a,l){return a instanceof vl&&l instanceof vl||a instanceof El&&l instanceof El?Ua(a.elements,l.elements,oi):a instanceof Ic&&l instanceof Ic?oi(a.Re,l.Re):a instanceof wc&&l instanceof wc}(r.transform,t.transform)}class dR{constructor(t,i){this.version=t,this.transformResults=i}}class ri{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ri}static exists(t){return new ri(void 0,t)}static updateTime(t){return new ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Kc{}function SE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new RE(r.key,ri.none()):new bl(r.key,r.data,ri.none());{const i=r.data,a=In.empty();let l=new Re(ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ns(r.key,a,new kn(l.toArray()),ri.none())}}function mR(r,t,i){r instanceof bl?function(l,c,d){const g=l.value.clone(),p=U_(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Ns?function(l,c,d){if(!fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=U_(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(bE(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function fl(r,t,i,a){return r instanceof bl?function(c,d,g,p){if(!fc(c.precondition,d))return g;const v=c.value.clone(),A=k_(c.fieldTransforms,p,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(r,t,i,a):r instanceof Ns?function(c,d,g,p){if(!fc(c.precondition,d))return g;const v=k_(c.fieldTransforms,p,d),A=d.data;return A.setAll(bE(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(D=>D.field))}(r,t,i,a):function(c,d,g){return fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function gR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=vE(a.transform,l||null);c!=null&&(i===null&&(i=In.empty()),i.set(a.field,c))}return i||null}function P_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ua(a,l,(c,d)=>fR(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bl extends Kc{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ns extends Kc{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function U_(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,hR(d,g,i[l]))}return a}function k_(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,cR(c,d,t))}return a}class RE extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pR extends Kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&mR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=fl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=fl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=yE();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=SE(d,g);p!==null&&a.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(vt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(i,a)=>P_(i,a))&&Ua(this.baseMutations,t.baseMutations,(i,a)=>P_(i,a))}}class sm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return sR}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new sm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,kt;function ER(r){switch(r){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function wE(r){if(r===void 0)return qi("GRPC error has no .code"),X.UNKNOWN;switch(r){case ye.OK:return X.OK;case ye.CANCELLED:return X.CANCELLED;case ye.UNKNOWN:return X.UNKNOWN;case ye.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ye.INTERNAL:return X.INTERNAL;case ye.UNAVAILABLE:return X.UNAVAILABLE;case ye.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ye.NOT_FOUND:return X.NOT_FOUND;case ye.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ye.ABORTED:return X.ABORTED;case ye.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ye.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:r})}}(kt=ye||(ye={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new Cr([4294967295,4294967295],0);function x_(r){const t=Xv().encode(r),i=new qv;return i.update(t),new Uint8Array(i.digest())}function L_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Cr([i,a],0),new Cr([l,c],0)]}class am{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new ol(`Invalid padding: ${i}`);if(a<0)throw new ol(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new ol(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Cr.fromNumber(this.pe)}we(t,i,a){let l=t.add(i.multiply(Cr.fromNumber(a)));return l.compare(TR)===1&&(l=new Cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=x_(t),[a,l]=L_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);if(!this.be(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new am(c,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.pe===0)return;const i=x_(t),[a,l]=L_(i);for(let c=0;c<this.hashCount;c++){const d=this.we(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Rl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Yc(vt.min(),l,new ie(bt),ji(),Nt())}}class Rl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Rl(a,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i,a,l){this.De=t,this.removedTargetIds=i,this.key=a,this.ve=l}}class IE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,a=Be.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class z_{constructor(){this.Fe=0,this.Me=B_(),this.xe=Be.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Nt(),i=Nt(),a=Nt();return this.Me.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:dt(38017,{changeType:c})}}),new Rl(this.xe,this.Oe,t,i,a)}Qe(){this.Ne=!1,this.Me=B_()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AR{constructor(t){this.ze=t,this.je=new Map,this.He=ji(),this.Je=sc(),this.Ye=sc(),this.Ze=new ie(bt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const a=this.rt(i);switch(t.state){case 0:this.it(i)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(i);break;case 3:this.it(i)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),a.ke(t.resumeToken));break;default:dt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((a,l)=>{this.it(l)&&i(l)})}ot(t){const i=t.targetId,a=t.Ce.count,l=this._t(i);if(l){const c=l.target;if(Vd(c))if(a===0){const d=new ut(c.path);this.tt(i,d,Qe.newNoDocument(d,vt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this.ut(i);if(d!==a){const g=this.ct(t),p=g?this.lt(g,t,d):1;if(p!==0){this.st(i);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Vr(a).toUint8Array()}catch(p){if(p instanceof Wv)return Pa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new am(d,l,c)}catch(p){return Pa(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,i,a){return i.Ce.count===a-this.Tt(t,i.targetId)?0:2}Tt(t,i){const a=this.ze.getRemoteKeysForTarget(i);let l=0;return a.forEach(c=>{const d=this.ze.Pt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.tt(i,c,null),l++)}),l}It(t){const i=new Map;this.je.forEach((c,d)=>{const g=this._t(d);if(g){if(c.current&&Vd(g.target)){const p=new ut(g.target.path);this.Et(p).has(d)||this.dt(d,p)||this.tt(d,p,Qe.newNoDocument(p,t))}c.Le&&(i.set(d,c.qe()),c.Qe())}});let a=Nt();this.Ye.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const v=this._t(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.He.forEach((c,d)=>d.setReadTime(t));const l=new Yc(t,i,this.Ze,this.He,a);return this.He=ji(),this.Je=sc(),this.Ye=sc(),this.Ze=new ie(bt),l}et(t,i){if(!this.it(t))return;const a=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,a),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,i)?l.$e(i,1):l.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),a&&(this.He=this.He.insert(i,a))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new z_,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Re(bt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Re(bt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new z_),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function sc(){return new ie(ut.comparator)}function B_(){return new ie(ut.comparator)}const SR={asc:"ASCENDING",desc:"DESCENDING"},bR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RR={and:"AND",or:"OR"};class wR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Pd(r,t){return r.useProto3Json||qc(t)?t:{value:t}}function Cc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function IR(r,t){return Cc(r,t.toTimestamp())}function si(r){return qt(!!r,49232),vt.fromTimestamp(function(i){const a=Nr(i);return new be(a.seconds,a.nanos)}(r))}function om(r,t){return Ud(r,t).canonicalString()}function Ud(r,t){const i=function(l){return new ee(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?i:i.child(t)}function OE(r){const t=ee.fromString(r);return qt(UE(t),10190,{key:t.toString()}),t}function kd(r,t){return om(r.databaseId,t.path)}function gd(r,t){const i=OE(t);if(i.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ut(VE(i))}function NE(r,t){return om(r.databaseId,t)}function CR(r){const t=OE(r);return t.length===4?ee.emptyPath():VE(t)}function xd(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q_(r,t,i){return{name:kd(r,t),fields:i.value.mapValue.fields}}function DR(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(v,A){return v.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Be.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:wE(v.code);return new at(A,v.message||"")}(d);i=new CE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=gd(r,a.document.name),c=si(a.document.updateTime),d=a.document.createTime?si(a.document.createTime):vt.min(),g=new In({mapValue:{fields:a.document.fields}}),p=Qe.newFoundDocument(l,c,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new dc(v,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=gd(r,a.document),c=a.readTime?si(a.readTime):vt.min(),d=Qe.newNoDocument(l,c),g=a.removedTargetIds||[];i=new dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=gd(r,a.document),c=a.removedTargetIds||[];i=new dc([],c,l,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new vR(l,c),g=a.targetId;i=new IE(g,d)}}return i}function OR(r,t){let i;if(t instanceof bl)i={update:q_(r,t.key,t.value)};else if(t instanceof RE)i={delete:kd(r,t.key)};else if(t instanceof Ns)i={update:q_(r,t.key,t.data),updateMask:zR(t.fieldMask)};else{if(!(t instanceof pR))return dt(16599,{ft:t.type});i={verify:kd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof El)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ic)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw dt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:IR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:dt(27497)}(r,t.precondition)),i}function NR(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(i=>function(l,c){let d=l.updateTime?si(l.updateTime):si(c);return d.isEqual(vt.min())&&(d=si(c)),new dR(d,l.transformResults||[])}(i,t))):[]}function VR(r,t){return{documents:[NE(r,t.path)]}}function MR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=NE(r,l);const c=function(v){if(v.length!==0)return PE(li.create(v,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(v){if(v.length!==0)return v.map(A=>function(x){return{field:Ia(x.field),direction:kR(x.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{gt:i,parent:l}}function PR(r){let t=CR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(D){const x=ME(D);return x instanceof li&&uE(x)?x.getFilters():[x]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(x=>function(J){return new Rc(Ca(J.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(x))}(i.orderBy));let g=null;i.limit&&(g=function(D){let x;return x=typeof D=="object"?D.value:D,qc(x)?null:x}(i.limit));let p=null;i.startAt&&(p=function(D){const x=!!D.before,G=D.values||[];return new bc(G,x)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const x=!D.before,G=D.values||[];return new bc(G,x)}(i.endAt)),Wb(t,l,d,c,g,"F",p,v)}function UR(r,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ME(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ca(i.unaryFilter.field);return Se.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ca(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ca(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ca(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Se.create(Ca(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(a=>ME(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}}(i.compositeFilter.op))}(r):dt(30097,{filter:r})}function kR(r){return SR[r]}function xR(r){return bR[r]}function LR(r){return RR[r]}function Ia(r){return{fieldPath:r.canonicalString()}}function Ca(r){return ze.fromServerFormat(r.fieldPath)}function PE(r){return r instanceof Se?function(i){if(i.op==="=="){if(C_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NAN"}};if(I_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(C_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NAN"}};if(I_(i.value))return{unaryFilter:{field:Ia(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(i.field),op:xR(i.op),value:i.value}}}(r):r instanceof li?function(i){const a=i.getFilters().map(l=>PE(l));return a.length===1?a[0]:{compositeFilter:{op:LR(i.op),filters:a}}}(r):dt(54877,{filter:r})}function zR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function UE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.wt=t}}function qR(r){const t=PR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Md(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.yn=new HR}addToCollectionParentIndex(t,i){return this.yn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.yn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Or.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class HR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Re(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Re(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class en{static withCacheSize(t){return new en(t,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(kE,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new La(0)}static ir(){return new La(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",GR=1048576;function G_([r,t],[i,a]){const l=bt(r,i);return l===0?bt(t,a):l}class FR{constructor(t){this.cr=t,this.buffer=new Re(G_),this.lr=0}hr(){return++this.lr}Pr(t){const i=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();G_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){it(H_,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fa(i)?it(H_,"Ignoring IndexedDB error during garbage collection: ",i):await Ga(i)}await this.Ir(3e5)})}}class KR{constructor(t,i){this.Er=t,this.params=i}calculateTargetCount(t,i){return this.Er.dr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Bc.le);const a=new FR(i);return this.Er.forEachTarget(t,l=>a.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>a.Pr(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.Er.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Er.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(j_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j_):this.Rr(t,i))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,i){let a,l,c,d,g,p,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,d=Date.now(),this.nthSequenceNumber(t,l))).next(D=>(a=D,g=Date.now(),this.removeTargets(t,a,i))).next(D=>(c=D,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(D=>(v=Date.now(),Ra()<=Ot.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${D} documents in `+(v-p)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:D})))}}function YR(r,t){return new KR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.changes=new Os(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&fl(a.mutation,l,kn.empty(),be.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Nt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Nt()){const l=Ts();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(c=>{let d=al();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Ts();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Nt()))}populateOverlays(t,i,a){const l=[];return a.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let c=ji();const d=hl(),g=function(){return hl()}();return i.forEach((p,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof Ns)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),fl(A.mutation,v,A.mutation.getFieldMask(),be.now())):d.set(v.key,kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var D;return g.set(v,new $R(A,(D=d.get(v))!==null&&D!==void 0?D:null))}),g))}recalculateAndSaveOverlays(t,i){const a=hl();let l=new ie((d,g)=>d-g),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const v=i.get(p);if(v===null)return;let A=a.get(p)||kn.empty();A=g.applyToLocalView(v,A),a.set(p,A);const D=(l.get(g.batchId)||Nt()).add(p);l=l.insert(g.batchId,D)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),v=p.key,A=p.value,D=yE();A.forEach(x=>{if(!c.has(x)){const G=SE(i.get(x),a.get(x));G!==null&&D.set(x,G),c=c.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,D))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):tR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):K.resolve(Ts());let g=gl,p=c;return d.next(v=>K.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),c.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(x=>{p=p.insert(A,x)}))).next(()=>this.populateOverlays(t,v,c)).next(()=>this.computeViews(t,p,v,Nt())).next(A=>({batchId:g,changes:pE(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next(a=>{let l=al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=al();return this.indexManager.getCollectionParents(t,c).next(g=>K.forEach(g,p=>{const v=function(D,x){return new Hc(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(A=>{A.forEach((D,x)=>{d=d.insert(D,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l))).next(d=>{c.forEach((p,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=al();return d.forEach((p,v)=>{const A=c.get(p);A!==void 0&&fl(A.mutation,v,kn.empty(),be.now()),Fc(i,v)&&(g=g.insert(p,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,i){return K.resolve(this.Fr.get(i))}saveBundleMetadata(t,i){return this.Fr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.Mr.get(i))}saveNamedQuery(t,i){return this.Mr.set(i.name,function(l){return{name:l.name,query:qR(l.bundledQuery),readTime:si(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.overlays=new ie(ut.comparator),this.Or=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ts();return K.forEach(i,l=>this.getOverlay(t,l).next(c=>{c!==null&&a.set(l,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,c)=>{this.St(t,i,c)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Or.get(a);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Or.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Ts(),c=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,v=p.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&p.largestBatchId>a&&l.set(p.getKey(),p)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Ts(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Ts(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Or.get(l.largestBatchId).delete(a.key);this.Or.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _R(i,a));let c=this.Or.get(i);c===void 0&&(c=Nt(),this.Or.set(i,c)),this.Or.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Nr=new Re(Ve.Br),this.Lr=new Re(Ve.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,i){const a=new Ve(t,i);this.Nr=this.Nr.add(a),this.Lr=this.Lr.add(a)}qr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Qr(new Ve(t,i))}$r(t,i){t.forEach(a=>this.removeReference(a,i))}Ur(t){const i=new ut(new ee([])),a=new Ve(i,t),l=new Ve(i,t+1),c=[];return this.Lr.forEachInRange([a,l],d=>{this.Qr(d),c.push(d.key)}),c}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const i=new ut(new ee([])),a=new Ve(i,t),l=new Ve(i,t+1);let c=Nt();return this.Lr.forEachInRange([a,l],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Ve(t,0),a=this.Nr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ve{constructor(t,i){this.key=t,this.Gr=i}static Br(t,i){return ut.comparator(t.key,i.key)||bt(t.Gr,i.Gr)}static kr(t,i){return bt(t.Gr,i.Gr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Jn=1,this.zr=new Re(Ve.Br)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yR(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.zr=this.zr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.jr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Hr(a),c=l<0?0:l;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Jd:this.Jn-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.zr.forEachInRange([a,l],d=>{const g=this.jr(d.Gr);c.push(g)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Re(bt);return i.forEach(l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([c,d],g=>{a=a.add(g.Gr)})}),K.resolve(this.Jr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ut.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new ut(c),0);let g=new Re(bt);return this.zr.forEachWhile(p=>{const v=p.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(p.Gr)),!0)},d),K.resolve(this.Jr(g))}Jr(t){const i=[];return t.forEach(a=>{const l=this.jr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){qt(this.Yr(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.zr;return K.forEach(i.mutations,l=>{const c=new Ve(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=a})}Xn(t){}containsKey(t,i){const a=new Ve(i,0),l=this.zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Yr(t,i){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const i=this.Hr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t){this.Zr=t,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.Zr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(t,i){let a=ji();return i.forEach(l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ji();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:v,value:{document:A}}=p.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Nb(Ob(A),a)<=0||(l.has(A.key)||Fc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(t,i,a,l){dt(9500)}Xr(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new iw(this)}getSize(t){return K.resolve(this.size)}}class iw extends XR{constructor(t){super(),this.vr=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.vr.addEntry(t,l)):this.vr.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.vr.getEntry(t,i)}getAllFromCache(t,i){return this.vr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.persistence=t,this.ei=new Os(i=>em(i),nm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ti=0,this.ni=new lm,this.targetCount=0,this.ri=La.rr()}forEachTarget(t,i){return this.ei.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ti&&(this.ti=i),K.resolve()}ar(t){this.ei.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ri=new La(i),this.highestTargetId=i),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,i){return this.ar(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.ar(i),K.resolve()}removeTargetData(t,i){return this.ei.delete(i.target),this.ni.Ur(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ei.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ei.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(c).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.ei.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this.ni.qr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this.ni.$r(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ni.Ur(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this.ni.Wr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this.ni.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t,i){this.ii={},this.overlays={},this.si=new Bc(0),this.oi=!1,this.oi=!0,this._i=new tw,this.referenceDelegate=t(this),this.ai=new rw(this),this.indexManager=new jR,this.remoteDocumentCache=function(l){return new nw(l)}(a=>this.referenceDelegate.ui(a)),this.serializer=new BR(i),this.ci=new JR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new WR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ii[t.toKey()];return a||(a=new ew(i,this.referenceDelegate),this.ii[t.toKey()]=a),a}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new sw(this.si.next());return this.referenceDelegate.li(),a(l).next(c=>this.referenceDelegate.hi(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Pi(t,i){return K.or(Object.values(this.ii).map(a=>()=>a.containsKey(t,i)))}}class sw extends Mb{constructor(t){super(),this.currentSequenceNumber=t}}class um{constructor(t){this.persistence=t,this.Ti=new lm,this.Ii=null}static Ei(t){return new um(t)}get di(){if(this.Ii)return this.Ii;throw dt(60996)}addReference(t,i,a){return this.Ti.addReference(a,i),this.di.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ti.removeReference(a,i),this.di.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ti.Ur(i.targetId).forEach(l=>this.di.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(c=>this.di.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}li(){this.Ii=new Set}hi(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,a=>{const l=ut.fromPath(a);return this.Ai(t,l).next(c=>{c||i.removeEntry(l,vt.min())})}).next(()=>(this.Ii=null,i.apply(t)))}updateLimboDocument(t,i){return this.Ai(t,i).next(a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())})}ui(t){return 0}Ai(t,i){return K.or([()=>K.resolve(this.Ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Pi(t,i)])}}class Dc{constructor(t,i){this.persistence=t,this.Ri=new Os(a=>kb(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=YR(this,i)}static Ei(t,i){return new Dc(t,i)}li(){}hi(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}Vr(t){let i=0;return this.Ar(t,a=>{i++}).next(()=>i)}Ar(t,i){return K.forEach(this.Ri,(a,l)=>this.gr(t,a,l).next(c=>c?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.Xr(t,d=>this.gr(t,d,i).next(g=>{g||(a++,c.removeEntry(d,vt.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.Ri.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.Ri.set(i,t.currentSequenceNumber),K.resolve()}ui(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=cc(t.data.value)),i}gr(t,i,a){return K.or([()=>this.persistence.Pi(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.Ri.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.ls=a,this.hs=l}static Ps(t,i){let a=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new cm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return tS()?8:Pb(Ke())>0?6:4}()}initialize(t,i){this.As=t,this.indexManager=i,this.Ts=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.Rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Vs(t,i,l,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new aw;return this.fs(t,i,d).next(g=>{if(c.result=g,this.Is)return this.gs(t,i,d,g.size)})}).next(()=>c.result)}gs(t,i,a,l){return a.documentReadCount<this.Es?(Ra()<=Ot.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),K.resolve()):(Ra()<=Ot.DEBUG&&it("QueryEngine","Query:",wa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ra()<=Ot.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):K.resolve())}Rs(t,i){if(V_(i))return K.resolve(null);let a=ii(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Md(i,null,"F"),a=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const d=Nt(...c);return this.As.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(p=>{const v=this.ps(i,g);return this.ys(i,v,d,p.readTime)?this.Rs(t,Md(i,null,"F")):this.ws(t,v,i,p)}))})))}Vs(t,i,a,l){return V_(i)||l.isEqual(vt.min())?K.resolve(null):this.As.getDocuments(t,a).next(c=>{const d=this.ps(i,c);return this.ys(i,d,a,l)?K.resolve(null):(Ra()<=Ot.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),wa(i)),this.ws(t,d,i,Db(l,gl)).next(g=>g))})}ps(t,i){let a=new Re(mE(t));return i.forEach((l,c)=>{Fc(t,c)&&(a=a.add(c))}),a}ys(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}fs(t,i,a){return Ra()<=Ot.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",wa(i)),this.As.getDocumentsMatchingQuery(t,i,Or.min(),a)}ws(t,i,a,l){return this.As.getDocumentsMatchingQuery(t,a,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",lw=3e8;class uw{constructor(t,i,a,l){this.persistence=t,this.bs=i,this.serializer=l,this.Ss=new ie(bt),this.Ds=new Os(c=>em(c),nm),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(a)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZR(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ss))}}function cw(r,t,i,a){return new uw(r,t,i,a)}async function LE(r,t){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(c=>(l=c,i.Fs(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Nt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}for(const v of c){g.push(v.batchId);for(const A of v.mutations)p=p.add(A.key)}return i.localDocuments.getDocuments(a,p).next(v=>({Ms:v,removedBatchIds:d,addedBatchIds:g}))})})}function hw(r,t){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),c=i.Cs.newChangeBuffer({trackRemovals:!0});return function(g,p,v,A){const D=v.batch,x=D.keys();let G=K.resolve();return x.forEach(J=>{G=G.next(()=>A.getEntry(p,J)).next(nt=>{const $=v.docVersions.get(J);qt($!==null,48541),nt.version.compareTo($)<0&&(D.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(p,D))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Nt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(p=p.add(g.batch.mutations[v].key));return p}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function zE(r){const t=Et(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.ai.getLastRemoteSnapshotVersion(i))}function fw(r,t){const i=Et(r),a=t.snapshotVersion;let l=i.Ss;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Cs.newChangeBuffer({trackRemovals:!0});l=i.Ss;const g=[];t.targetChanges.forEach((A,D)=>{const x=l.get(D);if(!x)return;g.push(i.ai.removeMatchingKeys(c,A.removedDocuments,D).next(()=>i.ai.addMatchingKeys(c,A.addedDocuments,D)));let G=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(D)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(D,G),function(nt,$,Tt){return nt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=lw?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(x,G,A)&&g.push(i.ai.updateTargetData(c,G))});let p=ji(),v=Nt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(dw(c,d,t.documentUpdates).next(A=>{p=A.xs,v=A.Os})),!a.isEqual(vt.min())){const A=i.ai.getLastRemoteSnapshotVersion(c).next(D=>i.ai.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,v)).next(()=>p)}).then(c=>(i.Ss=l,c))}function dw(r,t,i){let a=Nt(),l=Nt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let d=ji();return i.forEach((g,p)=>{const v=c.get(g);p.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(vt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):it(hm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",p.version)}),{xs:d,Os:l}})}function mw(r,t){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Jd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function gw(r,t){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.ai.getTargetData(a,t).next(c=>c?(l=c,K.resolve(l)):i.ai.allocateTargetId(a).next(d=>(l=new br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.ai.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ss.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ss=i.Ss.insert(a.targetId,a),i.Ds.set(t,a.targetId)),a})}async function Ld(r,t,i){const a=Et(r),l=a.Ss.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Fa(d))throw d;it(hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ss=a.Ss.remove(t),a.Ds.delete(l.target)}function F_(r,t,i){const a=Et(r);let l=vt.min(),c=Nt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(p,v,A){const D=Et(p),x=D.Ds.get(A);return x!==void 0?K.resolve(D.Ss.get(x)):D.ai.getTargetData(v,A)}(a,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.ai.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>a.bs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Nt())).next(g=>(pw(a,nR(t),g),{documents:g,Ns:c})))}function pw(r,t,i){let a=r.vs.get(t)||vt.min();i.forEach((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.vs.set(t,a)}class Q_{constructor(){this.activeTargetIds=lR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class yw{constructor(){this.So=new Q_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,i,a){this.Do[t]=i}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Q_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class Y_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){it(K_,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){it(K_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac=null;function zd(){return ac===null?ac=function(){return 268435456+Math.round(2147483648*Math.random())}():ac++,"0x"+ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="RestConnection",vw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ew{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=i+"://"+t.host,this.ko=`projects/${a}/databases/${l}`,this.qo=this.databaseId.database===Ac?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Qo(t,i,a,l,c){const d=zd(),g=this.$o(t,i.toUriEncodedString());it(pd,`Sending RPC '${t}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,l,c),this.Ko(t,g,p,a).then(v=>(it(pd,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Pa(pd,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Wo(t,i,a,l,c,d){return this.Qo(t,i,a,l,c)}Uo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),a&&a.headers.forEach((l,c)=>t[c]=l)}$o(t,i){const a=vw[t];return`${this.Lo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Aw extends Ew{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,i,a,l){const c=zd();return new Promise((d,g)=>{const p=new jv;p.setWithCredentials(!0),p.listenOnce(Hv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uc.NO_ERROR:const A=p.getResponseJson();it(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case uc.TIMEOUT:it(Ge,`RPC '${t}' ${c} timed out`),g(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const D=p.getStatus();if(it(Ge,`RPC '${t}' ${c} failed with status:`,D,"response text:",p.getResponseText()),D>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const G=x==null?void 0:x.error;if(G&&G.status&&G.message){const J=function($){const Tt=$.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN}(G.status);g(new at(J,G.message))}else g(new at(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new at(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{s_:t,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{it(Ge,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(l);it(Ge,`RPC '${t}' ${c} sending request:`,l),p.send(i,"POST",v,a,15)})}a_(t,i,a){const l=zd(),c=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Qv(),g=Fv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const A=c.join("");it(Ge,`Creating RPC '${t}' stream ${l}: ${A}`,p);const D=d.createWebChannel(A,p);let x=!1,G=!1;const J=new Tw({Go:$=>{G?it(Ge,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(it(Ge,`Opening RPC '${t}' stream ${l} transport.`),D.open(),x=!0),it(Ge,`RPC '${t}' stream ${l} sending:`,$),D.send($))},zo:()=>D.close()}),nt=($,Tt,_t)=>{$.listen(Tt,ct=>{try{_t(ct)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return nt(D,sl.EventType.OPEN,()=>{G||(it(Ge,`RPC '${t}' stream ${l} transport opened.`),J.t_())}),nt(D,sl.EventType.CLOSE,()=>{G||(G=!0,it(Ge,`RPC '${t}' stream ${l} transport closed`),J.r_())}),nt(D,sl.EventType.ERROR,$=>{G||(G=!0,Pa(Ge,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.r_(new at(X.UNAVAILABLE,"The operation could not be completed")))}),nt(D,sl.EventType.MESSAGE,$=>{var Tt;if(!G){const _t=$.data[0];qt(!!_t,16349);const ct=_t,Vt=(ct==null?void 0:ct.error)||((Tt=ct[0])===null||Tt===void 0?void 0:Tt.error);if(Vt){it(Ge,`RPC '${t}' stream ${l} received error:`,Vt);const gt=Vt.status;let It=function(R){const I=ye[R];if(I!==void 0)return wE(I)}(gt),V=Vt.message;It===void 0&&(It=X.INTERNAL,V="Unknown error status: "+gt+" with message "+Vt.message),G=!0,J.r_(new at(It,V)),D.close()}else it(Ge,`RPC '${t}' stream ${l} received:`,_t),J.i_(_t)}}),nt(g,Gv.STAT_EVENT,$=>{$.stat===Id.PROXY?it(Ge,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Id.NOPROXY&&it(Ge,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{J.n_()},0),J}}function yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r){return new wR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.bi=t,this.timerId=i,this.u_=a,this.c_=l,this.l_=c,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const i=Math.floor(this.h_+this.d_()),a=Math.max(0,Date.now()-this.T_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="PersistentStream";class qE{constructor(t,i,a,l,c,d,g,p){this.bi=t,this.R_=a,this.V_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new BE(t,i)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,i){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(i)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),i=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.m_===i&&this.B_(a,l)},a=>{t(()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.L_(l)})})}B_(t,i){const a=this.N_(this.m_);this.stream=this.k_(t,i),this.stream.jo(()=>{a(()=>this.listener.jo())}),this.stream.Jo(()=>{a(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{a(()=>this.L_(l))}),this.stream.onMessage(l=>{a(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return it(X_,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return i=>{this.bi.enqueueAndForget(()=>this.m_===t?i():(it(X_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sw extends qE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}k_(t,i){return this.connection.a_("Listen",t,i)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const i=DR(this.serializer,t),a=function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?si(d.readTime):vt.min()}(t);return this.listener.Q_(i,a)}U_(t){const i={};i.database=xd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=Vd(p)?{documents:VR(c,p)}:{query:MR(c,p).gt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=DE(c,d.resumeToken);const v=Pd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Cc(c,d.snapshotVersion.toTimestamp());const v=Pd(c,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const a=UR(this.serializer,t);a&&(i.labels=a),this.F_(i)}K_(t){const i={};i.database=xd(this.serializer),i.removeTarget=t,this.F_(i)}}class bw extends qE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,i){return this.connection.a_("Write",t,i)}q_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const i=NR(t.writeResults,t.commitTime),a=si(t.commitTime);return this.listener.j_(a,i)}H_(){const t={};t.database=xd(this.serializer),this.F_(t)}G_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>OR(this.serializer,a))};this.F_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{}class ww extends Rw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Qo(t,Ud(i,a),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())})}Wo(t,i,a,l,c){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Wo(t,Ud(i,a),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Iw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(qi(i),this.ea=!1):it("OnlineStateTracker",i)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class Cw{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=c,this.ca.vo(d=>{a.enqueueAndForget(async()=>{Vs(this)&&(it(Is,"Restarting streams for network reachability change."),await async function(p){const v=Et(p);v.aa.add(4),await wl(v),v.la.set("Unknown"),v.aa.delete(4),await $c(v)}(this))})}),this.la=new Iw(a,l)}}async function $c(r){if(Vs(r))for(const t of r.ua)await t(!0)}async function wl(r){for(const t of r.ua)await t(!1)}function jE(r,t){const i=Et(r);i._a.has(t.targetId)||(i._a.set(t.targetId,t),gm(i)?mm(i):Qa(i).b_()&&dm(i,t))}function fm(r,t){const i=Et(r),a=Qa(i);i._a.delete(t),a.b_()&&HE(i,t),i._a.size===0&&(a.b_()?a.v_():Vs(i)&&i.la.set("Unknown"))}function dm(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Qa(r).U_(t)}function HE(r,t){r.ha.Ke(t),Qa(r).K_(t)}function mm(r){r.ha=new AR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),Qa(r).start(),r.la.ta()}function gm(r){return Vs(r)&&!Qa(r).w_()&&r._a.size>0}function Vs(r){return Et(r).aa.size===0}function GE(r){r.ha=void 0}async function Dw(r){r.la.set("Online")}async function Ow(r){r._a.forEach((t,i)=>{dm(r,t)})}async function Nw(r,t){GE(r),gm(r)?(r.la.ia(t),mm(r)):r.la.set("Unknown")}async function Vw(r,t,i){if(r.la.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l._a.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l._a.delete(g),l.ha.removeTarget(g))}(r,t)}catch(a){it(Is,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Oc(r,a)}else if(t instanceof dc?r.ha.Xe(t):t instanceof IE?r.ha.ot(t):r.ha.nt(t),!i.isEqual(vt.min()))try{const a=await zE(r.localStore);i.compareTo(a)>=0&&await function(c,d){const g=c.ha.It(d);return g.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const A=c._a.get(v);A&&c._a.set(v,A.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,v)=>{const A=c._a.get(p);if(!A)return;c._a.set(p,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),HE(c,p);const D=new br(A.target,p,v,A.sequenceNumber);dm(c,D)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){it(Is,"Failed to raise snapshot:",a),await Oc(r,a)}}async function Oc(r,t,i){if(!Fa(t))throw t;r.aa.add(1),await wl(r),r.la.set("Offline"),i||(i=()=>zE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(Is,"Retrying IndexedDB access"),await i(),r.aa.delete(1),await $c(r)})}function FE(r,t){return t().catch(i=>Oc(r,i,t))}async function Zc(r){const t=Et(r),i=Pr(t);let a=t.oa.length>0?t.oa[t.oa.length-1].batchId:Jd;for(;Mw(t);)try{const l=await mw(t.localStore,a);if(l===null){t.oa.length===0&&i.v_();break}a=l.batchId,Pw(t,l)}catch(l){await Oc(t,l)}QE(t)&&KE(t)}function Mw(r){return Vs(r)&&r.oa.length<10}function Pw(r,t){r.oa.push(t);const i=Pr(r);i.b_()&&i.W_&&i.G_(t.mutations)}function QE(r){return Vs(r)&&!Pr(r).w_()&&r.oa.length>0}function KE(r){Pr(r).start()}async function Uw(r){Pr(r).H_()}async function kw(r){const t=Pr(r);for(const i of r.oa)t.G_(i.mutations)}async function xw(r,t,i){const a=r.oa.shift(),l=sm.from(a,t,i);await FE(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Zc(r)}async function Lw(r,t){t&&Pr(r).W_&&await async function(a,l){if(function(d){return ER(d)&&d!==X.ABORTED}(l.code)){const c=a.oa.shift();Pr(a).D_(),await FE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Zc(a)}}(r,t),QE(r)&&KE(r)}async function $_(r,t){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(Is,"RemoteStore received new credentials");const a=Vs(i);i.aa.add(3),await wl(i),a&&i.la.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.aa.delete(3),await $c(i)}async function zw(r,t){const i=Et(r);t?(i.aa.delete(2),await $c(i)):t||(i.aa.add(2),await wl(i),i.la.set("Unknown"))}function Qa(r){return r.Pa||(r.Pa=function(i,a,l){const c=Et(i);return c.Y_(),new Sw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:Dw.bind(null,r),Jo:Ow.bind(null,r),Zo:Nw.bind(null,r),Q_:Vw.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),gm(r)?mm(r):r.la.set("Unknown")):(await r.Pa.stop(),GE(r))})),r.Pa}function Pr(r){return r.Ta||(r.Ta=function(i,a,l){const c=Et(i);return c.Y_(),new bw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:Uw.bind(null,r),Zo:Lw.bind(null,r),z_:kw.bind(null,r),j_:xw.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await Zc(r)):(await r.Ta.stop(),r.oa.length>0&&(it(Is,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new pm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(r,t){if(qi("AsyncQueue",`${t}: ${r}`),Fa(r))return new at(X.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(t){return new Da(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=al(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Da)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Da;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.Ia=new ie(ut.comparator)}track(t){const i=t.doc.key,a=this.Ia.get(i);a?t.type!==0&&a.type===3?this.Ia=this.Ia.insert(i,t):t.type===3&&a.type!==1?this.Ia=this.Ia.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Ia=this.Ia.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Ia=this.Ia.remove(i):t.type===1&&a.type===2?this.Ia=this.Ia.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Ia=this.Ia.insert(i,{type:2,doc:t.doc}):dt(63341,{Vt:t,Ea:a}):this.Ia=this.Ia.insert(i,t)}da(){const t=[];return this.Ia.inorderTraversal((i,a)=>{t.push(a)}),t}}class za{constructor(t,i,a,l,c,d,g,p,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new za(t,i,Da.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class qw{constructor(){this.queries=J_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(i,a){const l=Et(i),c=l.queries;l.queries=J_(),c.forEach((d,g)=>{for(const p of g.Ra)p.onError(a)})})(this,new at(X.ABORTED,"Firestore shutting down"))}}function J_(){return new Os(r=>dE(r),Gc)}async function YE(r,t){const i=Et(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Va()&&t.ma()&&(a=2):(c=new Bw,a=t.ma()?0:1);try{switch(a){case 0:c.Aa=await i.onListen(l,!0);break;case 1:c.Aa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ym(d,`Initialization of query '${wa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Ra.push(t),t.ga(i.onlineState),c.Aa&&t.pa(c.Aa)&&_m(i)}async function XE(r,t){const i=Et(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Ra.indexOf(t);d>=0&&(c.Ra.splice(d,1),c.Ra.length===0?l=t.ma()?0:1:!c.Va()&&t.ma()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function jw(r,t){const i=Et(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Ra)g.pa(l)&&(a=!0);d.Aa=l}}a&&_m(i)}function Hw(r,t,i){const a=Et(r),l=a.queries.get(t);if(l)for(const c of l.Ra)c.onError(i);a.queries.delete(t)}function _m(r){r.fa.forEach(t=>{t.next()})}var Bd,W_;(W_=Bd||(Bd={})).ya="default",W_.Cache="cache";class $E{constructor(t,i,a){this.query=t,this.wa=i,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=a||{}}pa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new za(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ba?this.Da(t)&&(this.wa.next(t),i=!0):this.va(t,this.onlineState)&&(this.Ca(t),i=!0),this.Sa=t,i}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let i=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),i=!0),i}va(t,i){if(!t.fromCache||!this.ma())return!0;const a=i!=="Offline";return(!this.options.Fa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const i=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Ca(t){t=za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class Gw{constructor(t,i){this.query=t,this.qa=i,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Nt(),this.mutatedKeys=Nt(),this.Ua=mE(t),this.Ka=new Da(this.Ua)}get Wa(){return this.qa}Ga(t,i){const a=i?i.za:new Z_,l=i?i.Ka:this.Ka;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,D)=>{const x=l.get(A),G=Fc(this.query,D)?D:null,J=!!x&&this.mutatedKeys.has(x.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let $=!1;x&&G?x.data.isEqual(G.data)?J!==nt&&(a.track({type:3,doc:G}),$=!0):this.ja(x,G)||(a.track({type:2,doc:G}),$=!0,(p&&this.Ua(G,p)>0||v&&this.Ua(G,v)<0)&&(g=!0)):!x&&G?(a.track({type:0,doc:G}),$=!0):x&&!G&&(a.track({type:1,doc:x}),$=!0,(p||v)&&(g=!0)),$&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{Ka:d,za:a,ys:g,mutatedKeys:c}}ja(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const d=t.za.da();d.sort((A,D)=>function(G,J){const nt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:$})}};return nt(G)-nt(J)}(A.type,D.type)||this.Ua(A.doc,D.doc)),this.Ha(a),l=l!=null&&l;const g=i&&!l?this.Ja():[],p=this.$a.size===0&&this.current&&!l?1:0,v=p!==this.Qa;return this.Qa=p,d.length!==0||v?{snapshot:new za(this.query,t.Ka,c,d,t.mutatedKeys,p===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ya:g}:{Ya:g}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Z_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(i=>this.qa=this.qa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.qa=this.qa.delete(i)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Nt(),this.Ka.forEach(a=>{this.Za(a.key)&&(this.$a=this.$a.add(a.key))});const i=[];return t.forEach(a=>{this.$a.has(a)||i.push(new JE(a))}),this.$a.forEach(a=>{t.has(a)||i.push(new ZE(a))}),i}Xa(t){this.qa=t.Ns,this.$a=Nt();const i=this.Ga(t.documents);return this.applyChanges(i,!0)}eu(){return za.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vm="SyncEngine";class Fw{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Qw{constructor(t){this.key=t,this.tu=!1}}class Kw{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.nu={},this.ru=new Os(g=>dE(g),Gc),this.iu=new Map,this.su=new Set,this.ou=new ie(ut.comparator),this._u=new Map,this.au=new lm,this.uu={},this.cu=new Map,this.lu=La.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Yw(r,t,i=!0){const a=rT(r);let l;const c=a.ru.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.eu()):l=await WE(a,t,i,!0),l}async function Xw(r,t){const i=rT(r);await WE(i,t,!0,!1)}async function WE(r,t,i,a){const l=await gw(r.localStore,ii(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await $w(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&jE(r.remoteStore,l),g}async function $w(r,t,i,a,l){r.Pu=(D,x,G)=>async function(nt,$,Tt,_t){let ct=$.view.Ga(Tt);ct.ys&&(ct=await F_(nt.localStore,$.query,!1).then(({documents:V})=>$.view.Ga(V,ct)));const Vt=_t&&_t.targetChanges.get($.targetId),gt=_t&&_t.targetMismatches.get($.targetId)!=null,It=$.view.applyChanges(ct,nt.isPrimaryClient,Vt,gt);return ev(nt,$.targetId,It.Ya),It.snapshot}(r,D,x,G);const c=await F_(r.localStore,t,!0),d=new Gw(t,c.Ns),g=d.Ga(c.documents),p=Rl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(g,r.isPrimaryClient,p);ev(r,i,v.Ya);const A=new Fw(t,i,d);return r.ru.set(t,A),r.iu.has(i)?r.iu.get(i).push(t):r.iu.set(i,[t]),v.snapshot}async function Zw(r,t,i){const a=Et(r),l=a.ru.get(t),c=a.iu.get(l.targetId);if(c.length>1)return a.iu.set(l.targetId,c.filter(d=>!Gc(d,t))),void a.ru.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Ld(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&fm(a.remoteStore,l.targetId),qd(a,l.targetId)}).catch(Ga)):(qd(a,l.targetId),await Ld(a.localStore,l.targetId,!0))}async function Jw(r,t){const i=Et(r),a=i.ru.get(t),l=i.iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),fm(i.remoteStore,a.targetId))}async function Ww(r,t,i){const a=a1(r);try{const l=await function(d,g){const p=Et(d),v=be.now(),A=g.reduce((G,J)=>G.add(J.key),Nt());let D,x;return p.persistence.runTransaction("Locally write mutations","readwrite",G=>{let J=ji(),nt=Nt();return p.Cs.getEntries(G,A).next($=>{J=$,J.forEach((Tt,_t)=>{_t.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(G,J)).next($=>{D=$;const Tt=[];for(const _t of g){const ct=gR(_t,D.get(_t.key).overlayedDocument);ct!=null&&Tt.push(new Ns(_t.key,ct,aE(ct.value.mapValue),ri.exists(!0)))}return p.mutationQueue.addMutationBatch(G,v,Tt,g)}).next($=>{x=$;const Tt=$.applyToLocalDocumentSet(D,nt);return p.documentOverlayCache.saveOverlays(G,$.batchId,Tt)})}).then(()=>({batchId:x.batchId,changes:pE(D)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let v=d.uu[d.currentUser.toKey()];v||(v=new ie(bt)),v=v.insert(g,p),d.uu[d.currentUser.toKey()]=v}(a,l.batchId,i),await Il(a,l.changes),await Zc(a.remoteStore)}catch(l){const c=ym(l,"Failed to persist write");i.reject(c)}}async function tT(r,t){const i=Et(r);try{const a=await fw(i.localStore,t);t.targetChanges.forEach((l,c)=>{const d=i._u.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.tu=!0:l.modifiedDocuments.size>0?qt(d.tu,14607):l.removedDocuments.size>0&&(qt(d.tu,42227),d.tu=!1))}),await Il(i,a,t)}catch(a){await Ga(a)}}function tv(r,t,i){const a=Et(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.ru.forEach((c,d)=>{const g=d.view.ga(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let v=!1;p.queries.forEach((A,D)=>{for(const x of D.Ra)x.ga(g)&&(v=!0)}),v&&_m(p)}(a.eventManager,t),l.length&&a.nu.Q_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function t1(r,t,i){const a=Et(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a._u.get(t),c=l&&l.key;if(c){let d=new ie(ut.comparator);d=d.insert(c,Qe.newNoDocument(c,vt.min()));const g=Nt().add(c),p=new Yc(vt.min(),new Map,new ie(bt),d,g);await tT(a,p),a.ou=a.ou.remove(c),a._u.delete(t),Em(a)}else await Ld(a.localStore,t,!1).then(()=>qd(a,t,i)).catch(Ga)}async function e1(r,t){const i=Et(r),a=t.batch.batchId;try{const l=await hw(i.localStore,t);nT(i,a,null),eT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Il(i,l)}catch(l){await Ga(l)}}async function n1(r,t,i){const a=Et(r);try{const l=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return p.mutationQueue.lookupMutationBatch(v,g).next(D=>(qt(D!==null,37113),A=D.keys(),p.mutationQueue.removeMutationBatch(v,D))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>p.localDocuments.getDocuments(v,A))})}(a.localStore,t);nT(a,t,i),eT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Il(a,l)}catch(l){await Ga(l)}}function eT(r,t){(r.cu.get(t)||[]).forEach(i=>{i.resolve()}),r.cu.delete(t)}function nT(r,t,i){const a=Et(r);let l=a.uu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.uu[a.currentUser.toKey()]=l}}function qd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.iu.get(t))r.ru.delete(a),i&&r.nu.Tu(a,i);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(a=>{r.au.containsKey(a)||iT(r,a)})}function iT(r,t){r.su.delete(t.path.canonicalString());const i=r.ou.get(t);i!==null&&(fm(r.remoteStore,i),r.ou=r.ou.remove(t),r._u.delete(i),Em(r))}function ev(r,t,i){for(const a of i)a instanceof ZE?(r.au.addReference(a.key,t),i1(r,a)):a instanceof JE?(it(vm,"Document no longer in limbo: "+a.key),r.au.removeReference(a.key,t),r.au.containsKey(a.key)||iT(r,a.key)):dt(19791,{Iu:a})}function i1(r,t){const i=t.key,a=i.path.canonicalString();r.ou.get(i)||r.su.has(a)||(it(vm,"New document in limbo: "+i),r.su.add(a),Em(r))}function Em(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const i=new ut(ee.fromString(t)),a=r.lu.next();r._u.set(a,new Qw(i)),r.ou=r.ou.insert(i,a),jE(r.remoteStore,new br(ii(im(i.path)),a,"TargetPurposeLimboResolution",Bc.le))}}async function Il(r,t,i){const a=Et(r),l=[],c=[],d=[];a.ru.isEmpty()||(a.ru.forEach((g,p)=>{d.push(a.Pu(p,t,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const D=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(p.targetId,D?"current":"not-current")}if(v){l.push(v);const D=cm.Ps(p.targetId,v);c.push(D)}}))}),await Promise.all(d),a.nu.Q_(l),await async function(p,v){const A=Et(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>K.forEach(v,x=>K.forEach(x.ls,G=>A.persistence.referenceDelegate.addReference(D,x.targetId,G)).next(()=>K.forEach(x.hs,G=>A.persistence.referenceDelegate.removeReference(D,x.targetId,G)))))}catch(D){if(!Fa(D))throw D;it(hm,"Failed to update sequence numbers: "+D)}for(const D of v){const x=D.targetId;if(!D.fromCache){const G=A.Ss.get(x),J=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(J);A.Ss=A.Ss.insert(x,nt)}}}(a.localStore,c))}async function r1(r,t){const i=Et(r);if(!i.currentUser.isEqual(t)){it(vm,"User change. New user:",t.toKey());const a=await LE(i.localStore,t);i.currentUser=t,function(c,d){c.cu.forEach(g=>{g.forEach(p=>{p.reject(new at(X.CANCELLED,d))})}),c.cu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Il(i,a.Ms)}}function s1(r,t){const i=Et(r),a=i._u.get(t);if(a&&a.tu)return Nt().add(a.key);{let l=Nt();const c=i.iu.get(t);if(!c)return l;for(const d of c){const g=i.ru.get(d);l=l.unionWith(g.view.Wa)}return l}}function rT(r){const t=Et(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=t1.bind(null,t),t.nu.Q_=jw.bind(null,t.eventManager),t.nu.Tu=Hw.bind(null,t.eventManager),t}function a1(r){const t=Et(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=e1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=n1.bind(null,t),t}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xc(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,i){return null}fu(t,i){return null}Vu(t){return cw(this.persistence,new ow,t.initialUser,this.serializer)}Ru(t){return new xE(um.Ei,this.serializer)}Au(t){return new yw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class o1 extends Nc{constructor(t){super(),this.cacheSizeBytes=t}mu(t,i){qt(this.persistence.referenceDelegate instanceof Dc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new QR(a,t.asyncQueue,i)}Ru(t){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new xE(a=>Dc.Ei(a,i),this.serializer)}}class jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=r1.bind(null,this.syncEngine),await zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new qw}()}createDatastore(t){const i=Xc(t.databaseInfo.databaseId),a=function(c){return new Aw(c)}(t.databaseInfo);return function(c,d,g,p){return new ww(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,c,d,g){return new Cw(a,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>tv(this.syncEngine,i,0),function(){return Y_.C()?new Y_:new _w}())}createSyncEngine(t,i){return function(l,c,d,g,p,v,A){const D=new Kw(l,c,d,g,p,v);return A&&(D.hu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const c=Et(l);it(Is,"RemoteStore shutting down."),c.aa.add(5),await wl(c),c.ca.shutdown(),c.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):qi("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class l1{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Fe.UNAUTHENTICATED,this.clientId=$v.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{it(Ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(Ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ym(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function _d(r,t){r.asyncQueue.verifyOperationInProgress(),it(Ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async l=>{a.isEqual(l)||(await LE(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function nv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await u1(r);it(Ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>$_(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>$_(t.remoteStore,l)),r._onlineComponents=t}async function u1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ur,"Using user provided OfflineComponentProvider");try{await _d(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Pa("Error using user provided cache. Falling back to memory cache: "+i),await _d(r,new Nc)}}else it(Ur,"Using default OfflineComponentProvider"),await _d(r,new o1(void 0));return r._offlineComponents}async function aT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ur,"Using user provided OnlineComponentProvider"),await nv(r,r._uninitializedComponentsProvider._online)):(it(Ur,"Using default OnlineComponentProvider"),await nv(r,new jd))),r._onlineComponents}function c1(r){return aT(r).then(t=>t.syncEngine)}async function oT(r){const t=await aT(r),i=t.eventManager;return i.onListen=Yw.bind(null,t.syncEngine),i.onUnlisten=Zw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Xw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Jw.bind(null,t.syncEngine),i}function h1(r,t,i={}){const a=new zi;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new sT({next:x=>{A.yu(),d.enqueueAndForget(()=>XE(c,D));const G=x.docs.has(g);!G&&x.fromCache?v.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&p&&p.source==="server"?v.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),D=new $E(im(g.path),A,{includeMetadataChanges:!0,Fa:!0});return YE(c,D)}(await oT(r),r.asyncQueue,t,i,a)),a.promise}function f1(r,t,i={}){const a=new zi;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,v){const A=new sT({next:x=>{A.yu(),d.enqueueAndForget(()=>XE(c,D)),x.fromCache&&p.source==="server"?v.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),D=new $E(g,A,{includeMetadataChanges:!0,Fa:!0});return YE(c,D)}(await oT(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function d1(r,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function rv(r){if(!ut.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sv(r){if(ut.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Tm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function kr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tm(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="firestore.googleapis.com",av=!0;class ov{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cT,this.ssl=av}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:av;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GR)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}d1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jc{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new Eb;switch(a.type){case"firstParty":return new bb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=iv.get(i);a&&(it("ComponentProvider","Removing Datastore"),iv.delete(i),a.terminate())}(this),Promise.resolve()}}function m1(r,t,i,a={}){var l;const c=(r=kr(r,Jc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==cT&&c.host!==g&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!bs(p,d)&&(r._setSettings(p),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Fe.MOCK_USER;else{v=KA(a.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Fe(D)}r._authCredentials=new Tb(new Yv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Wc(this.firestore,t,this._query)}}class fn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new fn(this.firestore,t,this._key)}}class Dr extends Wc{constructor(t,i,a){super(t,i,im(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new fn(this.firestore,null,new ut(t))}withConverter(t){return new Dr(this.firestore,t,this._path)}}function lv(r,t,...i){if(r=dn(r),uT("collection","path",t),r instanceof Jc){const a=ee.fromString(t,...i);return sv(a),new Dr(r,null,a)}{if(!(r instanceof fn||r instanceof Dr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return sv(a),new Dr(r.firestore,null,a)}}function Hd(r,t,...i){if(r=dn(r),arguments.length===1&&(t=$v.newId()),uT("doc","path",t),r instanceof Jc){const a=ee.fromString(t,...i);return rv(a),new fn(r,null,new ut(a))}{if(!(r instanceof fn||r instanceof Dr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return rv(a),new fn(r.firestore,r instanceof Dr?r.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="AsyncQueue";class cv{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new BE(this,"async_queue_retry"),this.ju=()=>{const a=yd();a&&it(uv,"Visibility state changed to "+a.visibilityState),this.y_.A_()},this.Hu=t;const i=yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const i=yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const i=new zi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Fa(t))throw t;it(uv,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const i=this.Hu.then(()=>(this.Wu=!0,t().catch(a=>{throw this.Ku=a,this.Wu=!1,qi("INTERNAL UNHANDLED ERROR: ",hv(a)),a}).then(a=>(this.Wu=!1,a))));return this.Hu=i,i}enqueueAfterDelay(t,i,a){this.Ju(),this.zu.indexOf(t)>-1&&(i=0);const l=pm.createAndSchedule(this,t,i,a,c=>this.Xu(c));return this.Uu.push(l),l}Ju(){this.Ku&&dt(47125,{ec:hv(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const i of this.Uu)if(i.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Uu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const i=this.Uu.indexOf(t);this.Uu.splice(i,1)}}function hv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Cl extends Jc{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new cv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cv(t),this._firestoreClient=void 0,await t}}}function g1(r,t){const i=typeof r=="object"?r:Lv(),a=typeof r=="string"?r:Ac,l=$d(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=FA("firestore");c&&m1(l,...c)}return l}function Am(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||p1(r),r._firestoreClient}function p1(r){var t,i,a;const l=r._freezeSettings(),c=function(g,p,v,A){return new zb(g,p,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,lT(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new l1(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ba(Be.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ba(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=/^__.*__$/;class _1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ns(t,this.data,this.fieldMask,i,this.fieldTransforms):new bl(t,this.data,i,this.fieldTransforms)}}function fT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{oc:r})}}class wm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this._c(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new wm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l.lc(t),l}hc(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),l=this.ac({path:a,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Vc(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(fT(this.oc)&&y1.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class v1{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Xc(t)}dc(t,i,a,l=!1){return new wm({oc:t,methodName:i,Ec:a,path:ze.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dT(r){const t=r._freezeSettings(),i=Xc(r._databaseId);return new v1(r._databaseId,!!t.ignoreUndefinedProperties,i)}function mT(r,t,i,a,l,c={}){const d=r.dc(c.merge||c.mergeFields?2:0,t,i,l);_T("Data must be an object, but it was:",d,a);const g=pT(a,d);let p,v;if(c.merge)p=new kn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const D of c.mergeFields){const x=E1(t,D,i);if(!d.contains(x))throw new at(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);A1(A,x)||A.push(x)}p=new kn(A),v=d.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=d.fieldTransforms;return new _1(new In(g),p,v)}function gT(r,t){if(yT(r=dn(r)))return _T("Unsupported field value:",t,r),pT(r,t);if(r instanceof hT)return function(a,l){if(!fT(l.oc))throw l.Tc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(a,l){const c=[];let d=0;for(const g of a){let p=gT(g,l.Pc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(a,l){if((a=dn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return uR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=be.fromDate(a);return{timestampValue:Cc(l.serializer,c)}}if(a instanceof be){const c=new be(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Cc(l.serializer,c)}}if(a instanceof bm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ba)return{bytesValue:DE(l.serializer,a._byteString)};if(a instanceof fn){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Tc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:om(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Rm)return function(d,g){return{mapValue:{fields:{[rE]:{stringValue:sE},[Sc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Tc("VectorValues must only contain numeric values.");return rm(g.serializer,v)})}}}}}}(a,l);throw l.Tc(`Unsupported field value: ${Tm(a)}`)}(r,t)}function pT(r,t){const i={};return Jv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ds(r,(a,l)=>{const c=gT(l,t.uc(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function yT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof bm||r instanceof Ba||r instanceof fn||r instanceof hT||r instanceof Rm)}function _T(r,t,i){if(!yT(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const a=Tm(i);throw a==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+a)}}function E1(r,t,i){if((t=dn(t))instanceof Sm)return t._internalPath;if(typeof t=="string")return vT(r,t);throw Vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const T1=new RegExp("[~\\*/\\[\\]]");function vT(r,t,i){if(t.search(T1)>=0)throw Vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Sm(...t.split("."))._internalPath}catch{throw Vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Vc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${l}`),p+=")"),new at(X.INVALID_ARGUMENT,g+r+p)}function A1(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new S1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(TT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class S1 extends ET{data(){return super.data()}}function TT(r,t){return typeof t=="string"?vT(r,t):t instanceof Sm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R1{convertValue(t,i="none"){switch(Mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return he(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ds(t,(l,c)=>{a[l]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,l;const c=(l=(a=(i=t.fields)===null||i===void 0?void 0:i[Sc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(d=>he(d.doubleValue));return new Rm(c)}convertGeoPoint(t){return new bm(he(t.latitude),he(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=jc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(pl(t));default:return null}}convertTimestamp(t){const i=Nr(t);return new be(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);qt(UE(a),9688,{name:t});const l=new yl(a.get(1),a.get(3)),c=new ut(a.popFirst(5));return l.isEqual(i)||qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ST extends ET{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(TT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class mc extends ST{data(t={}){return super.data(t)}}class w1{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ll(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new mc(this._firestore,this._userDataWriter,a.key,a,new ll(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ll(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new mc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ll(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:I1(g.type),doc:p,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function I1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r){r=kr(r,fn);const t=kr(r.firestore,Cl);return h1(Am(t),r._key).then(i=>V1(t,r,i))}class bT extends R1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ba(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function D1(r){r=kr(r,Wc);const t=kr(r.firestore,Cl),i=Am(t),a=new bT(t);return b1(r._query),f1(i,r._query).then(l=>new w1(t,a,r,l))}function O1(r,t,i){r=kr(r,fn);const a=kr(r.firestore,Cl),l=AT(r.converter,t);return RT(a,[mT(dT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ri.none())])}function N1(r,t){const i=kr(r.firestore,Cl),a=Hd(r),l=AT(r.converter,t);return RT(i,[mT(dT(r.firestore),"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,ri.exists(!1))]).then(()=>a)}function RT(r,t){return function(a,l){const c=new zi;return a.asyncQueue.enqueueAndForget(async()=>Ww(await c1(a),l,c)),c.promise}(Am(r),t)}function V1(r,t,i){const a=i.docs.get(t._key),l=new bT(r);return new ST(r,l,t._key,a,new ll(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ha=l})(ja),Ma(new Rs("firestore",(a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Cl(new Ab(a.getProvider("auth-internal")),new Rb(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(v.options.projectId,A)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(g_,p_,t),Ir(g_,p_,"esm2017")})();function Im(r,t){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(i[a[l]]=r[a[l]]);return i}function wT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M1=wT,IT=new Al("auth","Firebase",wT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Yd("@firebase/auth");function P1(r,...t){Mc.logLevel<=Ot.WARN&&Mc.warn(`Auth (${ja}): ${r}`,...t)}function gc(r,...t){Mc.logLevel<=Ot.ERROR&&Mc.error(`Auth (${ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...t){throw Dm(r,...t)}function Ln(r,...t){return Dm(r,...t)}function Cm(r,t,i){const a=Object.assign(Object.assign({},M1()),{[t]:i});return new Al("auth","Firebase",a).create(t,{appName:r.name})}function Ss(r){return Cm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U1(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&ui(r,"argument-error"),Cm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return IT.create(r,...t)}function pt(r,t,...i){if(!r)throw Dm(t,...i)}function xi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw gc(t),new Error(t)}function Hi(r,t){r||xi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function k1(){return fv()==="http:"||fv()==="https:"}function fv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k1()||ZA()||"connection"in navigator)?navigator.onLine:!0}function L1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Hi(i>t,"Short delay should be less than long delay!"),this.isMobile=YA()||JA()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(r,t){Hi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q1=new Dl(3e4,6e4);function Nm(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ka(r,t,i,a,l={}){return DT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Sl(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},c);return $A()||(v.referrerPolicy="no-referrer"),CT.fetch()(await OT(r,r.config.apiHost,i,g),v)})}async function DT(r,t,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},z1),t);try{const l=new H1(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,v]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw oc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw oc(r,"user-disabled",d);const A=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Cm(r,A,v);ui(r,A)}}catch(l){if(l instanceof Gi)throw l;ui(r,"network-request-failed",{message:String(l)})}}async function j1(r,t,i,a,l={}){const c=await Ka(r,t,i,a,l);return"mfaPendingCredential"in c&&ui(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function OT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Om(r.config,l):`${r.config.apiScheme}://${l}`;return B1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class H1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ln(this.auth,"network-request-failed")),q1.get())})}}function oc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ln(r,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(r,t){return Ka(r,"POST","/v1/accounts:delete",t)}async function Pc(r,t){return Ka(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function F1(r,t=!1){const i=dn(r),a=await i.getIdToken(t),l=Vm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:l,token:a,authTime:dl(vd(l.auth_time)),issuedAtTime:dl(vd(l.iat)),expirationTime:dl(vd(l.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function vd(r){return Number(r)*1e3}function Vm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Nv(i);return l?JSON.parse(l):(gc("Failed to decode base64 JWT payload"),null)}catch(l){return gc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function dv(r){const t=Vm(r);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Gi&&Q1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Q1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(r){var t;const i=r.auth,a=await r.getIdToken(),l=await Tl(r,Pc(i,{idToken:a}));pt(l==null?void 0:l.users.length,i,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const d=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?NT(c.providerUserInfo):[],g=X1(r.providerData,d),p=r.isAnonymous,v=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),A=p?v:!1,D={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Fd(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(r,D)}async function Y1(r){const t=dn(r);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function X1(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function NT(r){return r.map(t=>{var{providerId:i}=t,a=Im(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,t){const i=await DT(r,{},async()=>{const a=Sl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await OT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",CT.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Z1(r,t){return Ka(r,"POST","/v2/accounts:revokeToken",Nm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=dv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await $1(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Oa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Oa,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){pt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class xn{constructor(t){var{uid:i,auth:a,stsTokenManager:l}=t,c=Im(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Fd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return F1(this,t)}reload(){return Y1(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ss(this.auth));const t=await this.getIdToken();return await Tl(this,G1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,l,c,d,g,p,v,A;const D=(a=i.displayName)!==null&&a!==void 0?a:void 0,x=(l=i.email)!==null&&l!==void 0?l:void 0,G=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,J=(d=i.photoURL)!==null&&d!==void 0?d:void 0,nt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,$=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,Tt=(v=i.createdAt)!==null&&v!==void 0?v:void 0,_t=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ct,emailVerified:Vt,isAnonymous:gt,providerData:It,stsTokenManager:V}=i;pt(ct&&V,t,"internal-error");const S=Oa.fromJSON(this.name,V);pt(typeof ct=="string",t,"internal-error"),Er(D,t.name),Er(x,t.name),pt(typeof Vt=="boolean",t,"internal-error"),pt(typeof gt=="boolean",t,"internal-error"),Er(G,t.name),Er(J,t.name),Er(nt,t.name),Er($,t.name),Er(Tt,t.name),Er(_t,t.name);const R=new xn({uid:ct,auth:t,email:x,emailVerified:Vt,displayName:D,isAnonymous:gt,photoURL:J,phoneNumber:G,tenantId:nt,stsTokenManager:S,createdAt:Tt,lastLoginAt:_t});return It&&Array.isArray(It)&&(R.providerData=It.map(I=>Object.assign({},I))),$&&(R._redirectEventId=$),R}static async _fromIdTokenResponse(t,i,a=!1){const l=new Oa;l.updateFromServerResponse(i);const c=new xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?NT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new Oa;g.updateFromIdToken(a);const p=new xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=new Map;function Li(r){Hi(r instanceof Function,"Expected a class definition");let t=mv.get(r);return t?(Hi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,mv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}VT.type="NONE";const gv=VT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r,t,i){return`firebase:${r}:${t}:${i}`}class Na{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Pc(this.auth,{idToken:t}).catch(()=>{});return i?xn._fromGetAccountInfoResponse(this.auth,i,t):null}return xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Na(Li(gv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Li(gv);const d=pc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let D;if(typeof A=="string"){const x=await Pc(t,{idToken:A}).catch(()=>{});if(!x)break;D=await xn._fromGetAccountInfoResponse(t,x,A)}else D=xn._fromJSON(t,A);v!==c&&(g=D),c=v;break}}catch{}const p=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Na(c,t,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Na(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(LT(t))return"Blackberry";if(zT(t))return"Webos";if(PT(t))return"Safari";if((t.includes("chrome/")||UT(t))&&!t.includes("edge/"))return"Chrome";if(xT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function MT(r=Ke()){return/firefox\//i.test(r)}function PT(r=Ke()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UT(r=Ke()){return/crios\//i.test(r)}function kT(r=Ke()){return/iemobile/i.test(r)}function xT(r=Ke()){return/android/i.test(r)}function LT(r=Ke()){return/blackberry/i.test(r)}function zT(r=Ke()){return/webos/i.test(r)}function Mm(r=Ke()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function J1(r=Ke()){var t;return Mm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function W1(){return WA()&&document.documentMode===10}function BT(r=Ke()){return Mm(r)||xT(r)||zT(r)||LT(r)||/windows phone/i.test(r)||kT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(r,t=[]){let i;switch(r){case"Browser":i=pv(Ke());break;case"Worker":i=`${pv(Ke())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ja}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t={}){return Ka(r,"GET","/v2/passwordPolicy",Nm(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var i,a,l,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:nI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,l,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Li(i)),this._initializationPromise=this.queue(async()=>{var a,l,c;if(!this._deleted&&(this.persistenceManager=await Na.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Pc(this,{idToken:t}),a=await xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Un(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!d||d===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=L1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(Ss(this));const i=t?dn(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),i=new iI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Al("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Z1(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Li(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[Li(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=t.addObserver(i,a,l);return()=>{d=!0,p()}}else{const p=t.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&P1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function th(r){return dn(r)}class yv{constructor(t){this.auth=t,this.observer=null,this.addObserver=oS(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(r){Pm=r}function aI(r){return Pm.loadJS(r)}function oI(){return Pm.gapiScript}function lI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r,t){const i=$d(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(bs(c,t??{}))return l;ui(l,"already-initialized")}return i.initialize({options:t})}function cI(r,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(Li);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function hI(r,t,i){const a=th(r);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=jT(t),{host:d,port:g}=fI(t),p=g===null?"":`:${g}`,v={url:`${c}//${d}${p}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(bs(v,a.config.emulator)&&bs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,dI()}function jT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fI(r){const t=jT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:_v(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_v(d)}}}function _v(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xi("not implemented")}_getIdTokenResponse(t){return xi("not implemented")}_linkToIdToken(t,i){return xi("not implemented")}_getReauthenticationResolver(t){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(r,t){return j1(r,"POST","/v1/accounts:signInWithIdp",Nm(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class Cs extends HT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Cs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=i,c=Im(i,["providerId","signInMethod"]);if(!a||!l)return null;const d=new Cs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Va(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Va(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Va(t,i)}buildRequest(){const t={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Sl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Um{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Ol{constructor(){super("facebook.com")}static credential(t){return Cs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Cs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ki.credential(i,a)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ol{constructor(){super("github.com")}static credential(t){return Cs._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ar.credential(t.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ol{constructor(){super("twitter.com")}static credential(t,i){return Cs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Sr.credential(i,a)}catch{return null}}}Sr.TWITTER_SIGN_IN_METHOD="twitter.com";Sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await xn._fromIdTokenResponse(t,a,l),d=vv(a);return new qa({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=vv(a);return new qa({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Gi{constructor(t,i,a,l){var c;super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new kc(t,i,a,l)}}function GT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?kc._fromErrorAndOperation(r,c,t,a):c})}async function gI(r,t,i=!1){const a=await Tl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return qa._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,t,i=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Ss(a));const l="reauthenticate";try{const c=await Tl(r,GT(a,l,t,r),i);pt(c.idToken,a,"internal-error");const d=Vm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(r.uid===g,a,"user-mismatch"),qa._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ui(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,t,i=!1){if(Un(r.app))return Promise.reject(Ss(r));const a="signIn",l=await GT(r,a,t),c=await qa._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function _I(r,t,i,a){return dn(r).onIdTokenChanged(t,i,a)}function vI(r,t,i){return dn(r).beforeAuthStateChanged(t,i)}function EI(r,t,i,a){return dn(r).onAuthStateChanged(t,i,a)}function TI(r){return dn(r).signOut()}const xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(xc,"1"),this.storage.removeItem(xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=1e3,SI=10;class QT extends FT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);W1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,SI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},AI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}QT.type="LOCAL";const bI=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends FT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}KT.type="SESSION";const YT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new eh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,c)),p=await RI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const v=km("",20);l.port1.start();const A=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(D){const x=D;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(A),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function II(r){ai().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function CI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function OI(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="firebaseLocalStorageDb",NI=1,Lc="firebaseLocalStorage",ZT="fbase_key";class Nl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(r,t){return r.transaction([Lc],t?"readwrite":"readonly").objectStore(Lc)}function VI(){const r=indexedDB.deleteDatabase($T);return new Nl(r).toPromise()}function Qd(){const r=indexedDB.open($T,NI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Lc,{keyPath:ZT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Lc)?t(a):(a.close(),await VI(),t(await Qd()))})})}async function Ev(r,t,i){const a=nh(r,!0).put({[ZT]:t,value:i});return new Nl(a).toPromise()}async function MI(r,t){const i=nh(r,!1).get(t),a=await new Nl(i).toPromise();return a===void 0?null:a.value}function Tv(r,t){const i=nh(r,!0).delete(t);return new Nl(i).toPromise()}const PI=800,UI=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>UI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(OI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new wI(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||DI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await Ev(t,xc,"1"),await Tv(t,xc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ev(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>MI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=nh(l,!1).getAll();return new Nl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const kI=JT;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r,t){return t?Li(t):(pt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends HT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Va(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Va(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Va(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xI(r){return yI(r.auth,new xm(r),r.bypassAuthState)}function LI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),pI(i,new xm(r),r.bypassAuthState)}async function zI(r){const{auth:t,user:i}=r;return pt(i,t,"internal-error"),gI(i,new xm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return zI;case"reauthViaPopup":case"reauthViaRedirect":return LI;default:ui(this.auth,"internal-error")}}resolve(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Dl(2e3,1e4);async function qI(r,t,i){if(Un(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const a=th(r);U1(r,t,Um);const l=WT(a,i);return new As(a,"signInViaPopup",t,l).executeNotNull()}class As extends t0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const t=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BI.get())};t()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="pendingRedirect",yc=new Map;class HI extends t0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=yc.get(this.auth._key());if(!t){try{const a=await GI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}yc.set(this.auth._key(),t)}return this.bypassAuthState||yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GI(r,t){const i=KI(t),a=QI(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function FI(r,t){yc.set(r._key(),t)}function QI(r){return Li(r._redirectPersistence)}function KI(r){return pc(jI,r.config.apiKey,r.name)}async function YI(r,t,i=!1){if(Un(r.app))return Promise.reject(Ss(r));const a=th(r),l=WT(a,t),d=await new HI(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=10*60*1e3;class $I{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!e0(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(Ln(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Av(t))}saveEventToCache(t){this.cachedEventUids.add(Av(t)),this.lastProcessedEventTime=Date.now()}}function Av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function e0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function ZI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,t={}){return Ka(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function eC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await JI(r);for(const i of t)try{if(nC(i))return}catch{}ui(r,"unauthorized-domain")}function nC(r){const t=Gd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tC.test(i))return!1;if(WI.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Dl(3e4,6e4);function Sv(){const r=ai().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function rC(r){return new Promise((t,i)=>{var a,l,c;function d(){Sv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sv(),i(Ln(r,"network-request-failed"))},timeout:iC.get()})}if(!((l=(a=ai().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=ai().gapi)===null||c===void 0)&&c.load)d();else{const g=lI("iframefcb");return ai()[g]=()=>{gapi.load?d():i(Ln(r,"network-request-failed"))},aI(`${oI()}?onload=${g}`).catch(p=>i(p))}}).catch(t=>{throw _c=null,t})}let _c=null;function sC(r){return _c=_c||rC(r),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Dl(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const t=r.config;pt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,lC):`https://${r.config.authDomain}/${oC}`,a={apiKey:t.apiKey,appName:r.name,v:ja},l=cC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Sl(a).slice(1)}`}async function fC(r){const t=await sC(r),i=ai().gapi;return pt(i,r,"internal-error"),t.open({where:document.body,url:hC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ln(r,"network-request-failed"),g=ai().setTimeout(()=>{c(d)},aC.get());function p(){ai().clearTimeout(g),l(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,gC=600,pC="_blank",yC="http://localhost";class bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,t,i,a=mC,l=gC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},dC),{width:a.toString(),height:l.toString(),top:c,left:d}),v=Ke().toLowerCase();i&&(g=UT(v)?pC:i),MT(v)&&(t=t||yC,p.scrollbars="yes");const A=Object.entries(p).reduce((x,[G,J])=>`${x}${G}=${J},`,"");if(J1(v)&&g!=="_self")return vC(t||"",g),new bv(null);const D=window.open(t||"",g,A);pt(D,r,"popup-blocked");try{D.focus()}catch{}return new bv(D)}function vC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="__/auth/handler",TC="emulator/auth/handler",AC=encodeURIComponent("fac");async function Rv(r,t,i,a,l,c){pt(r.config.authDomain,r,"auth-domain-config-required"),pt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ja,eventId:l};if(t instanceof Um){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",aS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,D]of Object.entries({}))d[A]=D}if(t instanceof Ol){const A=t.getScopes().filter(D=>D!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const p=await r._getAppCheckToken(),v=p?`#${AC}=${encodeURIComponent(p)}`:"";return`${SC(r)}?${Sl(g).slice(1)}${v}`}function SC({config:r}){return r.emulator?Om(r,TC):`https://${r.authDomain}/${EC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="webStorageSupport";class bC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=YI,this._overrideRedirectResult=FI}async _openPopup(t,i,a,l){var c;Hi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Rv(t,i,a,Gd(),l);return _C(t,d,km())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Rv(t,i,a,Gd(),l);return II(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Hi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fC(t),a=new $I(t);return i.register("authEvent",l=>(pt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ed,{type:Ed},l=>{var c;const d=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ed];d!==void 0&&i(!!d),ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return BT()||PT()||Mm()}}const RC=bC;var wv="@firebase/auth",Iv="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CC(r){Ma(new Rs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(r)},v=new rI(a,l,c,p);return cI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ma(new Rs("auth-internal",t=>{const i=th(t.getProvider("auth").getImmediate());return(a=>new wC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(wv,Iv,IC(r)),Ir(wv,Iv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=5*60,OC=Pv("authIdTokenMaxAge")||DC;let Cv=null;const NC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>OC)return;const l=i==null?void 0:i.token;Cv!==l&&(Cv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function VC(r=Lv()){const t=$d(r,"auth");if(t.isInitialized())return t.getImmediate();const i=uI(r,{popupRedirectResolver:RC,persistence:[kI,bI,YT]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=NC(c.toString());vI(i,d,()=>d(i.currentUser)),_I(i,g=>d(g))}}const l=Vv("auth");return l&&hI(i,`http://${l}`),i}function MC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}sI({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ln("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",MC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CC("Browser");const PC={apiKey:"AIzaSyD8Wt0LwYpsZh8mbQpfKw_nt_3HmSWo8PE",authDomain:"aaaaa-8c186.firebaseapp.com",projectId:"aaaaa-8c186",storageBucket:"aaaaa-8c186.firebasestorage.app",messagingSenderId:"1080349837116",appId:"1:1080349837116:web:9d1bd4fa662531e19d0039"},n0=xv(PC),lc=g1(n0),Td=VC(n0),UC=new ki;function kC(){const[r,t]=Pn.useState(""),[i,a]=Pn.useState(""),[l,c]=Pn.useState(""),[d,g]=Pn.useState(""),p=async()=>{try{const N=await(await fetch("https://dog.ceo/api/breeds/image/random")).json();t(N.message)}catch(I){console.error("Error fetching dog image:",I)}},v=async()=>{try{const N=await(await fetch("https://v2.jokeapi.dev/joke/Any?blacklistFlags=nsfw,religious,political,racist,sexist,explicit")).json();a(N.setup),c(N.delivery)}catch(I){console.error(I)}},A=async()=>{try{const N=await(await fetch("https://api.adviceslip.com/advice")).json();g(N.slip.advice)}catch(I){console.error(I)}},[D,x]=Pn.useState(null),[G,J]=Pn.useState(""),[nt,$]=Pn.useState(""),[Tt,_t]=Pn.useState(""),[ct,Vt]=Pn.useState([]);Pn.useEffect(()=>{const I=EI(Td,async N=>{if(x(N),N){const P=Hd(lc,"users",N.uid),w=await C1(P);if(w.exists()){const fe=w.data();J(fe.nickname||""),$(fe.age||"")}S()}});return()=>I()},[]);const gt=async()=>{try{await qI(Td,UC)}catch(I){console.error("Login failed",I)}},It=async()=>{try{await TI(Td),x(null),J(""),$("")}catch(I){console.error("Logout failed",I)}},V=async()=>{if(!G||!nt){alert("Please enter both nickname and age");return}const I=Hd(lc,"users",D.uid);await O1(I,{nickname:G,age:nt,email:D.email}),alert("Profile saved!")},S=async()=>{const N=(await D1(lv(lc,"messages"))).docs.map(P=>P.data());Vt(N)},R=async()=>{Tt.trim()&&(await N1(lv(lc,"messages"),{text:Tt,name:G||D.displayName,timestamp:Date.now()}),_t(""),S())};return Ft.jsxs("div",{children:[Ft.jsx("h1",{children:"Firebase + React App"}),Ft.jsx("button",{onClick:p,children:"Fetch Dog Image"}),r&&Ft.jsx("img",{src:r,alt:"Random Dog"}),Ft.jsx("button",{onClick:v,children:"Fetch joke"}),i&&Ft.jsx("p",{children:i}),l&&Ft.jsx("p",{children:l}),Ft.jsx("button",{onClick:A,children:"Fetch advice"}),d&&Ft.jsx("h1",{children:d}),D?Ft.jsxs("div",{children:[Ft.jsxs("h2",{children:["Hello, ",D.displayName]}),Ft.jsxs("p",{children:["Email: ",D.email]}),Ft.jsx("button",{onClick:It,children:"Log Out"}),Ft.jsx("h3",{children:"Edit Profile"}),Ft.jsx("input",{placeholder:"Nickname",value:G,onChange:I=>J(I.target.value)}),Ft.jsx("input",{placeholder:"Age",type:"number",value:nt,onChange:I=>$(I.target.value)}),Ft.jsx("button",{onClick:V,children:"Save Profile"}),Ft.jsx("h3",{children:"Send Message"}),Ft.jsx("input",{value:Tt,onChange:I=>_t(I.target.value),placeholder:"Enter your message"}),Ft.jsx("button",{onClick:R,children:"Send"}),Ft.jsx("h3",{children:"Messages"}),Ft.jsx("ul",{children:ct.map((I,N)=>Ft.jsxs("li",{children:[Ft.jsxs("strong",{children:[I.name||"Anon",":"]})," ",I.text]},N))})]}):Ft.jsxs("div",{children:[Ft.jsx("p",{children:"Please log in with Google to continue."}),Ft.jsx("button",{onClick:gt,children:"Login with Google"})]})]})}kA.createRoot(document.getElementById("root")).render(Ft.jsx(Pn.StrictMode,{children:Ft.jsx(kC,{})}));
